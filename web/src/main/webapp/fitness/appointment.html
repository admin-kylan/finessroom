<!DOCTYPE html>
<html xmlns:v-on="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>健身管理</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../css/reset.css"/>
    <link rel="stylesheet" href="../css/base.css"/>
    <link rel="stylesheet" href="../css/skin/jedate.css"/>
    <link rel="stylesheet" href="../css/jquery-confirm.css"/>
    <link rel="stylesheet" href="../css/font-awesome.min.css"/>
    <link rel="stylesheet" href="../css/appointment.css"/>
    <link rel="stylesheet" href="../css/combobox.css"/>
    <link rel="stylesheet" href="../css/simple-calendar.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../fitness/css/bill.css">

</head>

<body>
<div class="wrap" id="appointment">
    <div class="cWrap clearfix">
        <div class="content" style="width: 96%;"> <!-- content -->
            <div class="lefNav fl">
                <ul>
                    <li class="on" v-on:click="LI(0)">预约工作台</li>
                    <li v-on:click="LI(1)">教练/教室</li>
                    <li v-on:click="LI(2)">结账情况列表</li>
                    <li v-on:click="LI(3)">消费明细表</li>
                    <li v-on:click="LI(4)">会员冻结列表</li>
                    <li v-on:click="LI(5)">团操课程表</li>
                    <li v-on:click="LI(6)">团操管理</li>
                </ul>
            </div>
            <div class="contains fl">
                <ul>
                    <li class="list" v-if="LiIndex==0">
                        <!-- 预约工作台 -->
                        <edu-work-bench-children></edu-work-bench-children>
                        <!-- 预约工作台 -->
                        <!-- 课程预约/预约详情 -->
                        <edu-book-detail-children @return-page="LI"></edu-book-detail-children>
                        <!-- 课程预约/预约详情 -->
                        <!-- 开课 -->
                        <edu-start-class-children></edu-start-class-children>
                        <!-- 开课 -->
                        <!-- 添加预约 -->
                        <edu-add-reservation-children></edu-add-reservation-children>
                        <!-- 添加预约 -->
                    </li>
                    <li class="list" v-if="LiIndex==1">

                        <!-- 教练/教室 -->
                        <edu-coach-children></edu-coach-children>
                        <!-- 教练/教室 -->
                        <!-- 教练信息 -->
                        <edu-coach-information-children @return-page="LI"></edu-coach-information-children>
                        <!-- 教练信息 -->

                        <!-- 排课弹窗 -->
                        <edu-arrangement-education-children></edu-arrangement-education-children>
                        <!-- 排课弹窗 -->
                    </li>
                    <li class="list list3" v-if="LiIndex==2">
                        <!-- 结账情况列表 -->
                        <edu-settlement-children></edu-settlement-children>
                        <!-- 结账情况列表 -->
                    </li>
                    <li class="list list4" v-if="LiIndex==3">

                        <!-- 消费明细表 -->
                        <edu-consume-detail-children></edu-consume-detail-children>
                        <!-- 消费明细表 -->
                        <!-- 训练详情 -->
                        <edu-training-detail-children></edu-training-detail-children>
                        <!-- 训练详情 -->
                    </li>
                    <li class="list list5" v-if="LiIndex==4">
                        <!-- 会员冻结列表 -->
                        <edu-freeze-detail-children></edu-freeze-detail-children>
                        <!-- 会员冻结列表 -->

                    </li>
                    <li class="list list6" v-if="LiIndex==5">
                        <!-- 团操课程表 -->
                        <edu-course-date-list-children @return-page="LI"></edu-course-date-list-children>
                        <!-- 团操课程表 -->
                        <!-- 批量排团课 -->
                        <edu-batch-arrangement-children @return-page="LI"></edu-batch-arrangement-children>

                        <!-- 批量排团课 -->
                        <!-- 复制排课 -->
                        <edu-copy-class-children></edu-copy-class-children>


                        <!-- 课程设置 -->
                        <edu-class-setting-children @return-page="LI"></edu-class-setting-children>
                        <!-- 课程设置 -->
                    </li>
                    <li class="list list7" v-if="LiIndex==6">
                        <!-- 团操管理 -->
                        <edu-course-manage-children></edu-course-manage-children>

                        <!-- 团操管理 -->
                    </li>
                </ul>
            </div>

        </div>
        <!-- 付款 -->
        <edu-pay-bill-children></edu-pay-bill-children>
    </div>
</div>

<!-- 子组建模版 -->
<!-- 预约工作台 -->
<template id="edu-work-bench-id">
    <div id="appointmentWorkbench">
        <div class="searchWrap">
            <div class="search">
                <input type="text" placeholder="可按会员姓名、手机号搜索" v-model="searchInput"/>
                <input type="submit" value="搜索" @click="save"/>
            </div>
        </div>
        <div class="screening clearfix">
            <label class="fl">
                <span class="title">筛选条件：</span>
                <select name="" v-model="selectCoachId">
                    <option value="" selected>全部教练</option>
                    <option v-for='(item,index) in coachList' :value="item.coachId">
                        {{item.coachName}}
                    </option>
                </select>
                <!--<select name="">-->
                <!--<option value="" selected>全部课程类型</option>-->
                <!--</select>-->
                <select name="" v-model="selectSdaduimId">
                    <option value="" selected>全部场地</option>
                    <option v-for='(item,index) in sdaduimList' :value="item.id">
                        {{item.name}}
                    </option>
                </select>
                <input type="text" class="jeinput " id="work-bench-begin-date" placeholder="开始时间" v-model="beginDate"/>
                ~
                <input type="text" class="jeinput " id="work-bench-end-date" placeholder="结束时间" v-model="endDate"/>
            </label>
            <span class="btnWrap fl">
                    <span class="orange" @click="dateStatus=1">全部</span>
                    <span class="grey" @click="dateStatus=2">当天</span>
                    <span class="skyBlue" @click="dateStatus=3">本周</span>
                    <span class="red" @click="dateStatus=4" style="color: white!important;">本月</span>
                    <span class="blue" @click="dateStatus=5">本季度</span>
                    <span class="green" @click="dateStatus=6">本年度</span>
                </span>
        </div>
        <div class="tab">
            <h4>{{showBeginDate}} ~ {{showEndDate}}</h4>
            <p class="info">
                共<span class="cyan">{{eduCount}}</span>节课，上课人数<span class="cyan">{{eduClientCount}}</span>人
            </p>
            <table class="sup table table-bordered table-hover">
                <thead>
                <tr>
                    <td>序号</td>
                    <td>课程日期</td>
                    <td>上课时间</td>
                    <td>门店</td>
                    <td>课程名</td>
                    <td>课程类型</td>
                    <td>教练</td>
                    <td>教室</td>
                    <td>(总人数/<span class="green">已确认</span>/<span class="blue">待确认</span>/<span
                            class="grey">已取消</span>)
                    </td>
                    <td>操作</td>
                </tr>
                </thead>
                <tbody class="pre-scrollable">
                <tr v-for="(item, index) in resultList">
                    <td>{{index+1}}</td>
                    <td>{{item.executeDatePlan| toDateyyyyMMdd}}</td>
                    <td><strong class="red">{{item.beginDatePlan|toDateHHmm}}~{{item.endDatePlan|toDateHHmm}}</strong>
                    </td>
                    <td>{{item.shopName}}</td>
                    <td class="skyBlue">{{item.courseName}}</td>
                    <td>团课</td>
                    <td>{{item.coachName}}</td>
                    <td>{{item.roomName}}</td>
                    <td>
                            <span>
                                <strong>{{item.reserveTotalNum}}</strong>
                            </span>/
                        <span><strong class="green">{{item.eduCurrentCount}}</strong>
                            </span>/
                        <span><strong class="blue">{{item.eduToConfirmCount}}</strong>
                            </span>/
                        <span><strong class="grey">{{item.eduCancelCount}}</strong>
                            </span>
                        <span class="orange margin toBlock" @mouseover="selectToConfirmList(item.id, item)">预约确认</span>
                    </td>
                    <td>
                            <span class="skyBlue margin" onclick="checkDetails()"
                                  @click="changeEduId(item.id, item)">查看详情</span>
                        <template v-if=" item.status== 1">
                            <span class="margin">已开课</span>
                        </template>

                        <template v-if="item.status == 2">
                            <span class="margin">已结束</span>
                        </template>

                        <template v-if="item.status == 0 ">
                                <span class="green margin"
                                      @click="addReserve(item.id, item)">添加预约</span>
                            <span class="red margin"
                                  @click="startClass(item.id, item)">开课</span>
                        </template>
                        <!-- &lt;!&ndash; 未经允许是否可以上课 &ndash;&gt;
                         <template v-if="item.status == 0 && item.configStartClass == true">
                             <span class="red margin"
                                   @click="startClass(item.id, item)">开课</span>
                         </template>-->
                        <!--<span class="margin">已约满</span>-->

                    </td>
                </tr>

                </tbody>
            </table>
            <div class="tabBox">
                <table border="1" bordercolor="#ccc" class="sub">
                    <thead>
                    <tr>
                        <td></td>
                        <td>序号</td>
                        <td>会员姓名</td>
                        <td>手机号码</td>
                        <td>预约人</td>
                        <td>座位</td>
                        <td>预约时间</td>
                        <td>结算方式</td>
                        <td>扣费（余额）</td>
                        <td>预约状态</td>
                        <td>备注</td>
                        <td>操作</td>
                    </tr>
                    </thead>
                    <tbody>

                    <tr v-for="(item, index) in toConfirmList">
                        <td><input type="checkbox" @click='checkedOne(item.id)'
                                   :checked="toConfirmCheckbox.indexOf(item.id)>=0"/>
                        </td>
                        <td>{{index+1}}</td>
                        <td>{{item.memberName}}</td>
                        <td>{{item.mobile}}</td>
                        <td>{{item.reserveClientName}}</td>
                        <td>{{item.seatName}}</td>
                        <td>{{item.reserveDate| toDateyyyyMMddHHmm}}</td>
                        <td>{{item.settleType}}</td>
                        <td>{{item.deductionBalance}}</td>
                        <td class="green">{{item.reserveStatus| reserveStatusFilter}}</td>
                        <td class="grey">{{item.remarks| remarksFilter}}</td>
                        <td>
                            <span class="blue" @click="changeStatus(item.id, 1, 'true')">确认</span>
                            <span class="red" @click="changeStatus(item.id, 0, 'true')">取消</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <p class="tabFoot clearfix">
                    <label class="fl">
                        <input type="checkbox" @click='checkedAll()' :checked="isCheckedAll"/>
                        <span>全选/全不选</span>
                    </label>
                    <span class="btns fl">
                            <a class="btn btnBlue fl" @click="changeStatusAll(1)">确认</a>
                            <a class="btn btnRed fl cancel" @click="changeStatusAll(0)">取消</a>
                        </span>
                </p>
            </div>
        </div>
    </div>
</template>

<!-- 课程预约/预约详情 -->
<template id="book-detail-id">
    <div id="bookDetail" class="bookDetail">
        <div class="bookHeader">
            <img v-on:click="returnPage" src="../img/goback.png" alt=""/>
            <span><span class="grey" v-on:click="returnPage">课程预约/</span>预约详情</span>
        </div>
        <div class="bookBody clearfix">
            <div class="lef fl">
                <img src="../img/u2871.png" alt=""/>
            </div>
            <div class="rig fl">
                <h3>课程名称：{{eduItem.courseName}}</h3>
                <label>
                    <span class="title">门店：</span>
                    <span class="txt"><strong>{{eduItem.shopName}}</strong></span>
                </label>
                <label>
                    <span class="title">教练：</span>
                    <span class="txt"><strong>{{eduItem.coachName}}</strong></span>
                </label>
                <label>
                    <span class="title">日期：</span>
                    <span class="txt"><strong>{{eduItem.executeDatePlan |toDateyyyyMMddHHmm}}</strong></span>
                </label>
                <label>
                    <span class="title">时间：</span>
                    <span class="txt"><strong>{{eduItem.beginDatePlan|toDateHHmm}}~{{eduItem.endDatePlan|toDateHHmm}}</strong></span>
                </label>
                <label>
                    <span class="title">场地：</span>
                    <span class="txt"><strong>{{eduItem.sdaduimName}}</strong></span>
                </label>
                <label>
                    <span class="title">上课人数：</span>
                    <span class="txt"><strong>{{reserveNum}}/{{eduItem.reserveTotalNum}}</strong></span>
                </label>
                <span class="startBtn" @click="startClass">开始训练</span>
            </div>
        </div>
        <div class="bookTab">
            <span class="allBook">全部预约</span>
            <div class="tabLine clearfix">
                <p class="fl">
                    <label>
                        <span>已预约人数：</span>
                        <span>{{reserveNum}}</span>
                    </label>
                    <label>
                        <span>现有客户：</span>
                        <span>{{nowMember}}</span>
                    </label>
                    <label>
                        <span>潜在客户：</span>
                        <span>{{unNowMember}}</span>
                    </label>
                </p>
                <span class="addBook fr" @click="addReserve">添加预约</span>
            </div>
            <table class="table table-bordered table-hover">
                <thead>
                <tr>
                    <td v-if="eduItem.status == 0"></td>
                    <td>序号</td>
                    <td>会员姓名</td>
                    <td>客户类型</td>
                    <td>手机号码</td>
                    <td>预约人</td>
                    <td>座位</td>
                    <td>预约时间</td>
                    <td>结算方式</td>
                    <td>扣费（余额）</td>
                    <td>预约状态</td>
                    <td>备注</td>
                    <td v-if="eduItem.status == 0">操作</td>
                </tr>
                </thead>
                <tbody>
                <tr v-for="(item, index) in eduClientInfoList">
                    <td v-if="eduItem.status == 0"><input type="checkbox" @click='checkedOne(item.id)'
                                                          :checked="toConfirmCheckbox.indexOf(item.id)>=0"/>
                    </td>
                    <td>{{index+1}}</td>
                    <td>{{item.memberName}}</td>
                    <td>{{item.memberType}}</td>
                    <td>{{item.mobile}}</td>
                    <td>{{item.reserveClientName}}</td>
                    <td>{{item.seatName}}</td>
                    <td>{{item.reserveDate| toDateyyyyMMddHHmm}}</td>
                    <td>{{item.settleType}}</td>
                    <td>{{item.deductionBalance}}</td>
                    <td class="green">{{item.reserveStatus| reserveStatusFilter}}</td>
                    <td class="grey">{{item.remarks| remarksFilter}}</td>
                    <td v-if="eduItem.status == 0">
                        <span class="blue" @click="changeStatus(item.id, 1, 'true')">确认</span>
                        <span class="red" @click="changeStatus(item.id, 0, 'true')">取消</span>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="tabFoot clearfix" v-if="eduItem.status == 0">
                <label class="fl"><input type="checkbox" @click='checkedAll()' :checked="isCheckedAll">
                    <span>全选/全不选</span></label> <span
                    class="fl"><a class="btn btnBlue fl" @click="changeStatusAll(1)">确认</a>
                                                <a class="btn btnRed fl" @click="changeStatusAll(0)">取消</a></span>
            </div>
        </div>
    </div>
</template>

<!-- 添加预约 -->
<template id="edu-reservation-id">

    <div id="reservation" class="newCustomers_maskLayer">
        <div class="newCustomers_maskLayer_box">
            <div class="newCustomers_maskLayer_box_top">
                <span>添加预约</span><a href="#" class="newCustomers_maskLayer_X"
                                    onclick="newCustomers_maskLayer_X()">X</a>
            </div>
            <div class="newCustomers_maskLayer_box_shen">
                <div class="bookBody clearfix">
                    <div class="lef fl"><img src="../img/u2871.png" alt=""></div>
                    <div class="rig fl">
                        <div><span class="title">课程名称：</span> <span
                                class="txt"><strong>{{eduItem.courseName}}</strong></span></div>
                        <div><span class="title">课程日期：</span> <span
                                class="txt"><strong>{{eduItem.executeDatePlan |toDateyyyyMMddHHmm}}</strong></span>
                        </div>
                        <div><span class="title">课程时间：</span> <span
                                class="txt"><strong>{{eduItem.beginDatePlan|toDateHHmm}}~{{eduItem.endDatePlan|toDateHHmm}}</strong></span>
                        </div>
                        <div><span class="title">课程教练：</span> <span
                                class="txt"><strong>{{eduItem.coachName}}</strong></span>
                        </div>
                        <div><span class="title">上课人数：</span> <span
                                class="txt"><strong>{{eduItem.eduCurrentCount + eduItem.eduToConfirmCount}}/{{eduItem.reserveTotalNum}}</strong></span>
                        </div>
                    </div>
                </div>
                <div class="bookBody2 clearfix">
                    <div class="lef fl"><span>*</span> 预约会员：</div>
                    <div class="rig fl">
                        <div><input type="text" placeholder="请输入姓名手机号查找" v-model="searchInput"
                                    @change="searchClient">
                        </div>
                    </div>
                </div>
                <div class="bookBody2 clearfix">
                    <div class="lef fl">预约人数：</div>
                    <div class="rig fl">
                        <div>
                            <span>{{eduItem.eduCurrentCount + eduItem.eduToConfirmCount}}/{{eduItem.reserveTotalNum}}</span>
                        </div>
                    </div>
                </div>
                <div class="bookBody2 clearfix">
                    <div class="lef fl"><span>*</span>会员名称：</div>
                    <div class="rig fl">
                        <div><span>{{clientInfo.itemClient.clientName}}</span></div>
                    </div>
                </div>
                <!--<div class="bookBody2 clearfix">-->
                <!--<div class="lef fl"><span>*</span>会员卡号：</div>-->
                <!--<div class="rig fl">-->
                <!--<div><span>{{clientInfo.itemCard.cardNo}}</span></div>-->
                <!--</div>-->
                <!--</div>-->
                <div class="bookBody2 clearfix">
                    <div class="lef fl"><span>*</span> 选择座位：</div>
                    <div style="float: left; width: 30%;">{{seatName}}</div>
                    <div class="rig fl" style="width: 40%;float: right;">
                        <div class="sc-pull-right" style="width: 100%;">
                            <div><strong class="sc-hui"></strong><span>已选</span></div>
                            <div><strong class="sc-green"></strong><span>未选</span></div>
                            <div><strong class="sc-hei"></strong><span>被占</span></div>
                        </div>
                    </div>
                </div>
                <div class="bookBody2 clearfix">
                    <div class="bookBody2_tb">
                        <div class="bookBody2_tb_box">
                            <div class="bookBody2_tb_box_top">
                                <div>主教练台</div>
                            </div>
                            <div class="bookBody2_tb_box_buttom">
                                <table class="table table-bordered">
                                    <tbody>
                                    <tr v-for="(rowNum, index) in roomSeatItem.seatNum">
                                        <td v-for="(colNum, tdIndex) in rowNum" :td-num-id="colNum"
                                            :class="[checkClientReserve(colNum)]"
                                            @click="chooseSeat(index, tdIndex,checkClientReserve(colNum), rowNum.length)"></td>
                                    </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="newCustomers_maskLayer_box_botton">
                <a href="#" class="btn btn-success" @click="save">保存</a>
            </div>
        </div>
        <!--查询客户信息-->
        <div class="modal modal-style" tabindex="-1" role="dialog" data-backdrop="false"
             style="display: block; top: 4px; right: -250px;height: 100%; overflow: auto;"
             aria-labelledby="myModalLabel" v-show="clientBoxStatus">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                @click="clientBoxStatus=false"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">添加系列</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table table-style table-bordered">
                            <thead>
                            <tr>
                                <td>选择</td>
                                <td>序号</td>
                                <td>姓名</td>
                                <td>性别</td>
                                <td>手机号码</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr v-for="(item, index) in clientInfoList">
                                <td class="red" @click="selectClient(item)" style="color: red;cursor: pointer;">选择</td>
                                <td>{{index+1}}</td>
                                <td class="00f">{{item.clientName}}</td>
                                <td>{{item.sex}}</td>
                                <td>{{item.mobile}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!--<div class="modal-footer">-->
                    <!--<button type="button" class="btn btn-red">保存</button>-->
                    <!--</div>-->
                </div>
            </div>
        </div>
        <!--查询客户信息 卡号信息-->
        <!--   <div class="modal modal-style" tabindex="-1" role="dialog" data-backdrop="false"
                style="display: block; top: 34px; right: -250px;" aria-labelledby="myModalLabel" v-show="cardBoxStatus">
               <div class="modal-dialog" role="document">
                   <div class="modal-content">
                       <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal" aria-label="Close" @click="cardBoxStatus = false"><span
                                   aria-hidden="true">&times;</span></button>
                           <h4 class="modal-title">添加系列</h4>
                       </div>
                       <div class="modal-body">
                           <table class="table table-style table-bordered">
                               <thead>
                               <tr>
                                   <td>选择</td>
                                   <td>序号</td>
                                   <td>卡号</td>
                                   <td>开卡时间</td>
                                   <td>到期时间</td>
                               </tr>
                               </thead>
                               <tbody>
                               <tr v-for="(item, index) in cardInfoList">
                                   <td class="red" @click="selectCardObject(item)" style="color: red;cursor: pointer;">选择</td>
                                   <td>{{index+1}}</td>
                                   <td class="00f">{{item.cardNo}}</td>
                                   <td>{{item.bindTime| toDateyyyyMMdd}}</td>
                                   <td>{{item.invalidTime| toDateyyyyMMdd}}</td>
                               </tr>
                               </tbody>
                           </table>
                       </div>
                       &lt;!&ndash;<div class="modal-footer">&ndash;&gt;
                           &lt;!&ndash;<button type="button" class="btn btn-red">保存</button>&ndash;&gt;
                       &lt;!&ndash;</div>&ndash;&gt;
                   </div>
               </div>
           </div>-->
    </div>
</template>

<!-- 开课预约 -->
<template id="edu-start-class-id">
    <div id="startClass">
        <h4>团课开课</h4>
        <div class="startClass_fieldset">
            <fieldset>
                <legend><span>教练/场馆信息</span></legend>
                <div class="startClass_fieldset1">
                    <span>教练：</span> <strong>{{eduItem.coachName}}</strong>
                    <a href="javascript:;"
                       class="btn btn-danger">读取指纹</a><span>地点/场馆：</span>
                    <strong>{{eduItem.roomName}}</strong>
                </div>
            </fieldset>
            <fieldset>
                <legend><span>消费项目</span></legend>
                <div class="startClass_fieldset2">
                    <ul>
                        <li>
                            <span>消费课程：</span>
                            <span>
                                <select>
                                    <option value="1">{{eduItem.courseName}}</option>
                                </select>
                            </span>

                        </li>
                        <li><span>消费市场：</span> <span><strong>{{courseItem.time}}分钟</strong></span></li>
                        <li><span>训练计划：</span> <span><a href="javascript:;" class="btn btn-danger"
                                                        @click="showTrainingPlan">查看训练计划</a></span>
                        </li>
                        <li><span>消费数量：</span> <span><strong>{{eduItem.classSalesNum}}</strong></span></li>
                        <li>
                            <span>助教：</span>
                            <span>
                                <select>
                                    <option value="1">{{eduItem.assistantName}}</option>
                                </select>
                            </span>
                        </li>
                    </ul>
                    <div class="text-center">
                        <div style="width: 70%;margin: 0 auto">
                            <span>会员卡号/指纹：</span>
                            <span><input type="text" placeholder="会员卡号/手机号码/票券号/团购号" v-model="searchInput"></span>
                            <span><a href="javascript:;" class="btn btn-primary" @click="searchCard">更新指纹数据</a></span>
                        </div>
                    </div>
                    <div>
                        <div style="width: 70%;margin: 0 auto">
                            <fieldset class="memberInformation">
                                <legend><span>会员信息</span></legend>
                                <div class="memberInformation_box">
                                    <div class="memberInformation_box_left">
                                        <div>
                                                <span>
                                                    <span>会员姓名：</span><span><strong>{{clientInfo.clientName}}</strong></span>
                                                </span>
                                            <span>
                                                <span>会员性别：</span><span><strong>{{clientInfo.sex}}</strong></span>
                                            </span>
                                            <span>
                                                <span>会员卡号：</span><span><strong>{{clientInfo.cardNo}}</strong></span>
                                            </span>
                                        </div>
                                        <div>
                                            <span>
                                                <span>会员卡系列：</span><span><strong>{{clientInfo.cardType}}</strong></span>

                                            </span>
                                            <span>
                                                <span>会员卡名称：</span><span><strong>{{clientInfo.cardTypeName}}</strong></span>

                                            </span>
                                            <span>
                                                <span>总权益：</span><span><strong>{{clientInfo.haveRightsNum}}</strong></span>

                                            </span>
                                            <span>
                                                <span>剩余权益：</span><span><strong>{{clientInfo.totalAmt}}</strong></span>

                                            </span>
                                        </div>
                                        <div>
                                            <span>
                                                <span>开始时间：</span><span><strong>{{clientInfo.bindDate| toDateyyyyMMdd}}</strong></span>

                                            </span>
                                            <span>
                                                <span>失效时间：</span><span><strong>{{clientInfo.invalidDate| toDateyyyyMMdd}}</strong></span>
                                            </span>
                                        </div>
                                        <div>
                                                <span>
                                                    <span>销售顾问：</span><span><strong>{{clientInfo.salesName}}</strong></span>

                                                </span>
                                            <span>
                                                    <span>指定教练：</span><span><strong>{{eduItem.coachName}}</strong></span>

                                                </span>
                                            <span>
                                                <span>服务顾问：</span><span><strong>{{clientInfo.consultantName}}</strong></span>
                                            </span>
                                        </div>
                                        <div>
                                            <fieldset>
                                                <legend><span>票券信息</span></legend>
                                                <div>
                                                    <ul>
                                                        <li><span>票券条形码：</span><span>无</span></li>
                                                        <li><span>使用人姓名：</span><span>无</span></li>
                                                        <li><span>使用人电话：</span><span>无</span></li>
                                                        <li><span>差额：</span><span>无</span></li>
                                                    </ul>
                                                </div>
                                            </fieldset>

                                        </div>
                                        <div>
                                            <fieldset>
                                                <legend><span>团购信息</span></legend>
                                                <div>
                                                    <ul>
                                                        <li><span>票券条形码：</span><span>无</span></li>
                                                        <li><span>使用人姓名：</span><span>无</span></li>
                                                        <li><span>使用人电话：</span><span>无</span></li>
                                                        <li><span>差额：</span><span>无</span></li>
                                                    </ul>
                                                </div>
                                            </fieldset>

                                        </div>
                                    </div>
                                    <div class="memberInformation_box_right">
                                        <div>
                                            <img :src="clientInfo.clientPic" class="img-responsive"
                                                 alt="">
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <legend><span>学员信息</span></legend>
                <div class="startClass_fieldset3">
                    <div class="startClass_fieldset3_top">
                        <div class="col-md-6 text-left">当前约课人数：<strong>{{reserveNum}}</strong>人</div>
                        <div class="col-md-6 text-right"><a href="javascript:;"
                                                            class="btn btn-default" @click="searchFunc">搜索</a>
                            <input type="text"
                                   placeholder="姓名/卡号" v-model="searchInput2"></div>
                    </div>
                    <div style="overflow-x:  scroll;">
                        <table class="table table-hover table-bordered">
                            <thead>
                            <tr>
                                <th>消费时间</th>
                                <th>会员卡号</th>
                                <th>会员姓名</th>
                                <th>性别</th>
                                <th>卡种</th>
                                <th>会员卡名</th>
                                <th>剩余权益</th>
                                <th>失效日期</th>
                                <th>使用人</th>
                                <th>消费数量</th>
                                <th>消费金额</th>
                                <th>座位号</th>
                                <th>票据号</th>
                                <th>销售员</th>
                                <th>操作员</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>

                            <tr v-for="(item, index) in memberList">
                                <td>{{item.createDate| toDateyyyyMMddHHmm}}</td>
                                <td>{{item.memberCardNo}}</td>
                                <td class="blue">{{item.infoMemberName}}</td>
                                <td>{{item.infoMemberSex}}</td>
                                <td>{{item.cardType}}</td>
                                <td class="sblue">{{item.cardName}}</td>
                                <td class="red">{{item.remainBenefit}}</td>
                                <td>{{item.invalidDate| toDateyyyyMMdd}}</td>
                                <td>{{item.useUserName}}</td>
                                <td>{{item.eduClassSalesNum}}</td>
                                <td>{{item.price| toMoney}}</td>
                                <td class="red">{{item.infoSeatName}}</td>
                                <td><strong>{{item.billNumber}}</strong></td>
                                <td>{{item.saleUserName}}</td>
                                <td><strong>{{item.createName}}</strong></td>
                                <td class="red" @click="cancelMemberOrder(item.id, item.eduClassSalesNum)"
                                    style="cursor: pointer;" v-if="item.status != 0">冲销
                                </td>
                                <td class="red" v-if="item.status == 0">已冲销</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div>
                        <div class="text-center" style="margin: 15px 0;">
                            <span>开始时间：
                                <input type="text" class="jeinput " id="start-begin-date"
                                       placeholder="开始时间" v-model="beginDate" readonly></span>
                            <span>结束时间：<input type="text" class="jeinput " id="start-end-date"
                                              placeholder="结束时间" v-model="endDate" readonly></span>
                        </div>
                        <div class="text-center">
                            <a href="javascript:;" class="btn btn-group" @click="beginEduFunc">开始</a>
                        </div>
                    </div>

                </div>
            </fieldset>
        </div>
        <!--训练计划-->
        <div class="modal modal-style" tabindex="-1" role="dialog" data-backdrop="false" aria-labelledby="myModalLabel"
             v-show="trainingPlanViewStatus" style="display: block;height: 100%; overflow: auto;">
            <div class="modal-dialog" role="document" style="width: 900px;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                @click="trainingPlanViewStatus = false"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">训练计划</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table table-style table-bordered">
                            <thead>
                            <tr>
                                <td>序号</td>
                                <td></td>
                                <td>动作类型</td>
                                <td>动作名称</td>
                                <td>时间（分）</td>
                                <td style="width: 100px;">强度</td>
                                <td style="width: 100px;">次数</td>
                                <td style="width: 150px;">备注</td>
                            </tr>
                            </thead>
                            <tbody>

                            <tr v-for="(item, index) in eduPlanList">
                                <td>{{index + 1}}</td>
                                <td style="height: 80px;"><img :src="item.image" class="full-height"/></td>
                                <td class="yellow">{{item.seriesName}}</td>
                                <td>{{item.actionName}}</td>
                                <td><span class="c-0f0">{{item.traningTime}}</span>分钟</td>
                                <td>{{item.traningStrength}}</td><!--item.actionDiff -->
                                <td><span class="c-00f">{{item.traningCount}}</span></td>
                                <td>{{item.traningremark}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- 选择会员卡信息 -->
        <div class="modal modal-style" tabindex="-1" role="dialog" data-backdrop="false" v-show="searchCardViewStatus"
             aria-labelledby="myModalLabel" style="display: block;height: 100%; overflow: auto;">
            <div class="modal-dialog" role="document" style="width: 1200px;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                @click="searchCardViewStatus = false">
                            <span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">选择会员卡</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table table-style table-bordered">
                            <thead>
                            <tr>
                                <td>选择</td>
                                <td>序号</td>
                                <td>姓名</td>
                                <td>性别</td>
                                <td>卡名称</td>
                                <td>卡号</td>
                                <td>开卡日期</td>
                                <td>结束日期</td>
                                <td>总权益</td>
                                <td>剩余权益</td>
                                <td>销售顾问</td>
                                <td>服务顾问</td>
                                <td>状态</td>
                            </tr>
                            </thead>
                            <tbody>

                            <tr v-for="(item, index) in clientInfoList">
                                <td class="red" @click="payBill(item)" style="cursor: pointer">选择</td>
                                <td>{{index +1}}</td>
                                <td class="c-00f">{{item.clientName}}</td>
                                <td>{{item.sex}}</td>
                                <td class="c-00f">{{item.cardTypeName}}</td>
                                <td>{{item.cardNo}}</td>
                                <td>{{item.bindDate| toDateyyyyMMdd}}</td>
                                <td>{{item.invalidDate| toDateyyyyMMdd}}</td>
                                <td>{{item.haveRightsNum}}</td>
                                <td class="red">{{item.totalAmt}}</td>
                                <td>{{item.salesName}}</td>
                                <td>{{item.consultantName}}</td>
                                <td class="c-0f0">{{item.status| cardStatusFilter}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!--<div class="modal-footer">-->
                    <!--<button type="button" class="btn btn-red" @click="clientInfo = clientInfoCopy;searchCardViewStatus = false">保存</button>-->
                    <!--</div>-->
                </div>
            </div>
        </div>
    </div>
</template>
<!-- 付款 -->
<template id="edu-pay-bill-id">
    <!-- 付款 -->
    <div id="offer" class="newCustomers_maskLayer" style="display: block;" v-show="isShowBill">
        <div class="newCustomers_maskLayer_box">
            <div class="newCustomers_maskLayer_box_top">
                <span>结账</span><a href="#" class="newCustomers_maskLayer_X" @click="isShowBill = false">X</a>
            </div>
            <div class="newCustomers_maskLayer_box_shen">
                <fieldset class="section2">
                    <legend>消费人员信息</legend>
                    <div>

                        <span>会员姓名：<strong>{{clientInfo.clientName}} </strong></span>
                        <span>手机号码：<strong>{{clientInfo.mobile}} </strong></span>
                        <span>性别：<strong>{{clientInfo.sex}} </strong></span>
                    </div>
                </fieldset>
                <fieldset class="section3">
                    <legend>产品信息</legend>
                    <div class="section3_box">
                        <div class="section3_box_top">
                            <span>订单编号：<strong>{{orderNo}} </strong> </span> <span>创建时间：{{createDate}}</span>
                        </div>
                        <div class="section3_box_botton">
                            <div class="section3_box_botton_left">
                                <img :src="eduItem.courseImage" alt="">
                            </div>
                            <div class="section3_box_botton_rigth">
                                <div style="width: 300px;float: left;">
                                    <strong>{{eduItem.courseName}}</strong>
                                </div>
                                <div style="width: 300px;">
                                    <span>单价：<strong>￥{{eduItem.courseMemberPrice| toMoney}}</strong></span>
                                </div>
                            </div>

                        </div>
                    </div>
                </fieldset>
                <div class="payment_method">
                    <div class="payment_method_top">
                        <ul>
                            <li :class='{on: index == 0}' @click="index = 0">会员消费</li>
                            <li :class='{on: index == 1}' @click="index = 1">普通消费</li>
                        </ul>
                    </div>
                    <div class="payment_method_left pull-left">
                        <ul>
                            <li class="on li1" v-if="index==0">
                                <div class="col-md7">
                                    <div class="col_md7_top">卡号/手机号码：
                                        <input type="text" v-model="memberInfo.num"
                                               oninput="value=value.replace(/[^\d]+/g,'')">
                                        <a href="javascript:;" class="btn btn-success"
                                           @click="searchByTelAndNo()">搜索</a></div>
                                    <div class="col_md7_botton">
                                        <table class="table table-bordered text-center table-hover">
                                            <thead>
                                            <tr>
                                                <th>序号</th>
                                                <th>票券号码</th>
                                                <th>票券名称</th>
                                                <th>可用权益</th>
                                                <th>使用</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-for='(item,index) in memberInfo.ticketList'>
                                                <td v-text="index + 1"></td>
                                                <td v-text="item.num"></td>
                                                <td v-text="item.name"></td>
                                                <td v-text="item.interest"></td>
                                                <td><label><input type="checkbox" v-model="item.use"></label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div>显示更多</div>
                                    </div>
                                </div>
                                <div class="col-md5">
                                    <div>
                                        <div>会员卡号： <strong
                                                class="font-bold">{{memberInfo.cardInfo.cardNo}}</strong></div>
                                        <div>会员名称：<strong
                                                class="font-bold">{{memberInfo.cardInfo.cardUserName}}</strong></div>
                                        <div>票劵差价：
                                            <strong class="font-bold col-red">{{memberInfo.cardInfo.differencePrice|toMoney}}</strong>
                                        </div>
                                        <div>票劵抵扣：
                                            <strong class="font-bold col-red">{{memberInfo.cardInfo.totalPrice|toMoney}}</strong>
                                        </div>
                                        <div>卡中储值金额：
                                            <strong class="font-bold col-red">{{memberInfo.cardInfo.storageOrderPrice|toMoney}}</strong>
                                        </div>
                                        <div>扣储值金额：
                                            <input type="text" v-model="memberInfo.cardInfo.inputMoney"
                                                   placeholder="0.00"
                                                   oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')"
                                            ></div>
                                        <div>输入凭证：
                                            <input type="password" v-model="memberInfo.cardInfo.userPass"
                                                   @change="verifyPassword"></div>
                                    </div>
                                </div>
                            </li>
                            <li class="on li2" v-if="index==1">
                                <div class="col-md7">
                                    <div class="col_md7_top">手机号码：
                                        <input type="text">
                                        <a href="javascript:;" class="btn btn-success"
                                        >搜索</a>
                                    </div>
                                    <div class="col_md7_botton">
                                        <table class="table table-bordered text-center table-hover">
                                            <thead>
                                            <tr>
                                                <th>序号</th>
                                                <th>票券号码</th>
                                                <th>票券名称</th>
                                                <th>可用权益</th>
                                                <th>使用</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-for='(item,index) in generalInfo.ticketList'>
                                                <td v-text="index + 1"></td>
                                                <td v-text="item.num"></td>
                                                <td v-text="item.name"></td>
                                                <td v-text="item.interest"></td>
                                                <td><label><input type="checkbox" v-model="item.use"></label></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div>显示更多</div>
                                    </div>
                                </div>
                                <div class="col-md5">
                                    <div>
                                        <div>票券可用总权益：<strong>{{generalInfo.totalPrice|toMoney}}</strong></div>
                                        <div>输入使用权益：<input type="text"
                                                           oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')"
                                                           v-model="generalInfo.inputMoney"></div>
                                        <div>需补差价：<strong>{{generalInfo.differencePrice|toMoney}}</strong></div>
                                        <fieldset>
                                            <legend>普通消费说明</legend>
                                            <div>
                                                <p>1、本阶段只支持系统存在的潜在客户消费;</p>
                                                <p>2、如果系统不存在的客户想用票券消费;</p>
                                                <div>
                                                    <p>1）新建潜在客户必须要有手机号码、姓名；</p>
                                                    <p>2）销售/赠送票券;</p>
                                                    <p>3）在本届面录入手机号码，如果有消费权益就会自动带出 ;</p>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="payment_method_box pull-left">
                        <fieldset style="border-color:red">
                            <legend style="color:#FF9900">支付方式</legend>
                            <div class="section2_boxs1_right">
                                <div class="section2_boxs1_top">
                                    <div>支付方式</div>
                                    <div>支付宝</div>
                                    <div>刷卡</div>
                                    <div>微信</div>
                                    <div>现金</div>
                                    <div>转账</div>
                                    <div>花呗</div>
                                    <div>其他支付</div>
                                </div>
                                <div class="section2_boxs1_botton">
                                    <div>金额</div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p1" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p2" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p3" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p4" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p5" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p6" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                    <div><span>￥</span>
                                        <input type="text" v-model="payType.p7" placeholder="0.00"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="payment_method_rigth pull-left">
                        <fieldset>
                            <legend style="color:#FF9900">折扣优惠</legend>
                            <table border="0" cellspacing="0" cellpadding="0">
                                <tbody>
                                <tr>
                                    <td colspan="2">整单打折</td>
                                </tr>
                                <tr>
                                    <td>优惠折扣：</td>
                                    <td><input type="text" v-model="rebate.offer" placeholder="0"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </td>
                                </tr>
                                <tr>
                                    <td>整单去零：</td>
                                    <td><input type="text" v-model="rebate.integer" placeholder="0"
                                               oninput="value=value.replace(/[^\d^]+/g,'')"></td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <label>
                                            <input type="radio" name="discount-type-radio" v-model="rebate.type"
                                                   value="1">
                                            <span>整单打折(重复使用)</span>
                                        </label>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-align-right">满：</td>
                                    <td class="text-align-right">
                                        <input type="text" v-model="rebate.repeat.full" placeholder="0"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-align-right">减：</td>
                                    <td class="text-align-right">
                                        <input type="text" v-model="rebate.repeat.less" placeholder="0"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <label>
                                            <input type="radio" name="discount-type-radio" value="0"
                                                   v-model="rebate.type">
                                            <span>整单打折(单次使用)</span>
                                        </label>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-align-right">满：</td>
                                    <td>
                                        <input type="text" v-model="rebate.single.full" placeholder="0"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-align-right">减：</td>
                                    <td>
                                        <input type="text" v-model="rebate.single.less" placeholder="0"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </fieldset>
                    </div>
                    <div class="payment_method_rigth2 pull-left">
                        <fieldset style="border-color:#009900">
                            <legend style="color:#009900">支付详情</legend>
                            <div class="rows">
                                <div>
                                    <div class="col-md-6">小计：</div>
                                    <div class="col-md-6"> ￥<strong>{{payMoney.totalPrice | toMoney}}</strong>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-md-6">折扣/优惠：</div>
                                    <div class="col-md-6">￥<strong>{{payMoney.discount | toMoney}}</strong></div>
                                </div>
                                <div>
                                    <div class="col-md-6">抵扣金额：</div>
                                    <div class="col-md-6">￥<strong>{{payMoney.discountMoney | toMoney}}</strong>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-md-6">应付金额：</div>
                                    <div class="col-md-6">￥ <strong><span
                                            class="tored">{{payMoney.price | toMoney}}</span></strong>
                                    </div>
                                </div>
                                <div>
                                    <div class="col-md-6">未付金额：</div>
                                    <div class="col-md-6">￥{{payMoney.noPrice | toMoney}}</div>
                                </div>
                                <div>
                                    <div class="col-md-6">找零：</div>
                                    <div class="col-md-6">￥<strong><span
                                            class="tored">{{payMoney.retChange | toMoney}}</span></strong>
                                    </div>
                                </div>
                                <div style=" border-bottom: none">
                                    <div class="col-md-6"><a href="javascript:;" class="btn btn-default">挂账</a></div>
                                    <div class="col-md-6"><a href="javascript:;" class="btn btn-default">挂单</a></div>
                                </div>
                                <div style=" border-bottom: none">
                                    <div class="col-md-12">
                                        <a href="javascript:;" class="btn btn-success" @click="payBill">结账</a>
                                    </div>
                                </div>
                                <div style=" border-bottom: none">
                                    <div class="col-md-12">
                                        <label>
                                            <input type="checkbox" v-model="invoiceStatus">
                                            <span>购置发票</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>

        <!--表格1 输入手机号码显示-->
        <div class="newCustomers_maskLayer performance" v-show="memberInfo.isShow" style="display:block;">
            <div class="newCustomers_maskLayer_box" style="top: 55%;">
                <div class="newCustomers_maskLayer_box_top"><span>多个客户选择</span>
                    <a href="javascript:;" class="newCustomers_maskLayer_X" @click="memberInfo.isShow = false;">X</a>
                </div>
                <div class="KHGL-table-box">
                    <table class="KHGL-table1" border="0" cellspacing="0" cellpadding="0">
                        <thead>
                        <tr>
                            <th style="width: 15%;">选择</th>
                            <th style="width: 15%;">标识</th>
                            <th style="width: 25%;">姓名</th>
                            <th style="width: 15%;">性别</th>
                            <th>创建时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr v-for="item in memberInfo.optionClientList">
                            <td><span class="col-green" @click="catcherClientList(item)">选择</span></td>
                            <td><span class="col-red" v-text="item.CustomerMark"></span></td>
                            <td v-text="item.clientName"></td>
                            <td v-text="item.sex == 1 ? '女' : '男'"></td>
                            <td>{{item.applyTime|formatDate }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- 表格1 -->

        <!-- 选择储值会员卡 -->
        <div class="newCustomers_maskLayer performance" v-show="memberInfo.isShowCardStatus" style="display: block;">
            <div class="newCustomers_maskLayer_box" style="top: 65%;">
                <div class="newCustomers_maskLayer_box_top"><span>选择储值会员卡</span>
                    <a href="javascript:;" @click="memberInfo.isShowCardStatus = false;"
                       class="newCustomers_maskLayer_X">X</a>
                </div>
                <h5 class="KHGL-title">选择要储值的会员卡</h5>
                <div class="KHGL-table-box">
                    <table class="KHGL-table2" border="0" cellspacing="0" cellpadding="0">
                        <thead>
                        <tr>
                            <th style="width: 5%;">选择</th>
                            <th style="width: 10%;">姓名</th>
                            <th style="width: 12%;">手机号码</th>
                            <th style="width: 12%;">卡系列</th>
                            <th style="width: 7%;">卡名称</th>
                            <th style="width: 15%;">开始日期</th>
                            <th style="width: 15%;">失效日期</th>
                            <th style="width: 8%;">剩余权益</th>
                            <th style="width: 8%;">剩余储值</th>
                            <th>状态</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr v-for="item in memberInfo.optionClientCardList">
                            <td class="cursorP" style="color: #090 !important;" @click="catcherCardId(item)">选择</td>
                            <td class='col-blue'>{{item.clientName}}</td>
                            <td>{{item.mobile}}</td>
                            <td>{{item.cardFlag}}</td>
                            <td class='col-red'>{{item.cardTypeName}}</td>
                            <td>{{item.bindTime| toDateyyyyMMddHHmm}}</td>
                            <td>{{item.invalidTime| toDateyyyyMMddHHmm}}</td>
                            <td>{{item.orderNum}}</td>
                            <td>{{item.orderPrice}}</td>
                            <td>{{item.a_status}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- end 选择储值会员卡 -->
    </div>
</template>

<!-- 教练列表 -->
<template id="edu-coach-id">
    <div id="coachClassroom">
        <div class="line clearfix">
            <span class="fl">教练</span>
            <p class="fr">
                <span>
                    <strong class="you"></strong>
                    <span>上课中</span>
                </span>
                <span>
                    <strong class="wu"></strong>
                    <span>无课</span>
                </span>
                <span>
                    <strong class="xiu"></strong>
                    <span>休息中</span>
                </span>
            </p>
        </div>
        <ul class="liBox clearfix">
            <li v-for="(item, index) in coachList">
                <div style="height: 100%;" v-if="item.list.length == 0" @click="showCoachInfo('',item)">
                    <p class="title">{{item.persionCoachName}}</p>
                </div>
                <div style="height: 100%;" v-if="item.list.length != 0">
                    <p class="title">{{item.persionCoachName}}</p>
                    <div class="have">
                        <template v-for="obj in item.list">
                            <p class="txt" @click="showCoachInfo(obj.id, obj)">{{obj.courseName}}</p>
                            <p class="date">{{obj.beginDatePlan| toDateHHmm}}~{{obj.endDatePlan| toDateHHmm}}</p>
                        </template>
                    </div>
                </div>
            </li>
        </ul>
        <div class="line clearfix">教室</div>
        <ul class="liBox classroom clearfix">
            <li v-for="item in roomList" @click="arrangementEdu(item)">
                <p class="title">{{item.roomName}}</p>
                <div class="free">
                    <template v-for="obj in item.list">
                        <p class="txt">{{obj.coachName}}</p>
                        <p class="date">{{obj.eduBeginDate| toDateHHmm}}~{{obj.eduEndDate| toDateHHmm}}
                            {{obj.courseName}}</p>
                    </template>
                </div>
            </li>
        </ul>
    </div>
</template>

<!-- 教练信息 -->
<template id="edu-coach-information-id">
    <div id="coachInformation" class="newCustomers_maskLayer">
        <div class="newCustomers_maskLayer_box">
            <div class="newCustomers_maskLayer_box_top">
                <span>开始{{eduItem.persionCoachName}}的课程</span><a href="#" class="newCustomers_maskLayer_X"
                                                                 onclick="newCustomers_maskLayer_X()">X</a>
            </div>
            <div class="newCustomers_maskLayer_box_shen">
                <fieldset>
                    <legend><span>教练信息</span></legend>
                    <div style="overflow: hidden;">
                        <div class="newCustomers_maskLayer_box_shen_left">
                            <div>姓名：<strong>{{eduItem.persionCoachName}}</strong></div>
                            <div>性别：<strong>{{eduItem.persionCoachSex}}</strong></div>
                            <div>手机号码：<strong>{{eduItem.persionCoachMobile}}</strong></div>
                            <div>工号：<strong class="orange">{{eduItem.persionCoachJobNumber}}</strong></div>
                        </div>
                        <div class="newCustomers_maskLayer_box_shen_right">
                            <div>
                                <img src="../img/u601.png" class="img-responsive" alt="">
                            </div>
                        </div>
                    </div>
                </fieldset>

            </div>
            <div class="newCustomers_maskLayer_box_botton">
                <a href="javascript:;" class="btn btn-primary" @click="LI(0,2)" v-if="eduId != ''">开始上课</a>
                <a href="javascript:;" class="btn btn-warning" @click="LI(0)">预约该教练课程</a>
                <a href="javascript:;" class="btn btn-danger" @click="LI(2)">结账</a>
            </div>
        </div>
    </div>
</template>

<!-- 排课弹窗 -->
<template id="edu-arrangement-education-id">
    <div id="classroom" class="newCustomers_maskLayer">
        <div class="newCustomers_maskLayer_box">
            <div class="newCustomers_maskLayer_box_top">
                <span>临时排课</span>
                <a href="javascript:;" class="newCustomers_maskLayer_X"
                   onclick="newCustomers_maskLayer_X()">X</a>
            </div>
            <div class="newCustomers_maskLayer_box_shen">
                <div class="bookBody clearfix">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-2 control-label"><span>*</span>教练：</label>
                            <div class="col-sm-7">
                                <select class="form-control" v-model="selectCoachId">
                                    <option v-for='(item,index) in coachList' :value="item.coachId">
                                        {{item.coachName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label"><span>*</span>课程：</label>
                            <div class="col-sm-7">
                                <select class="form-control" v-model="selectCourseId">
                                    <option value="0" v-for="item in courseList" :value="item.courseId">
                                        {{item.courseName}}
                                    </option>

                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label"><span>*</span>上课时间：</label>
                            <div class="col-sm-7">
                                <input type="text" class="jeinput form-control"
                                       placeholder="上课日期" id="arrangement-execute-date" v-model="executeDate" readonly/>
                                <input type="text" class="jeinput form-control"
                                       id="arrangement-execute-begin-date" placeholder="开始时间" v-model="executeBeginDate"
                                       readonly/>
                                <span> ~ </span>
                                <input type="text" class="jeinput form-control"
                                       id="arrangement-execute-end-date" placeholder="结束时间" v-model="executeEndDate"
                                       readonly/>
                            </div>
                        </div>
                    </form>
                </div>

                <h4>开放预约时间：</h4>
                <div class="bookBody">
                    <div class="bookBody_b">
                        <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="1"> <span>立即开放预约</span>
                        </label></p>
                        <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="2"> <span>定时开放预约</span>
                            <input type="text" class="jeinput"
                                   id="arrangement-execute-reserve-date" v-model="openReserveDateSelect"></label>
                        </p>
                        <p>
                            <label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="3"> <span>课程开始前</span>
                            </label>
                            <!--<select name="0">-->
                            <!--<option value="0">0</option>-->
                            <!--</select>-->
                            <input type="text" v-model="reserveHoursBegin" placeholder="0"
                                   oninput="value=value.replace(/[^\d]+/g,'')">
                            <span>小时开放预约</span>
                        </p>
                        <p><span>预约设置修改，仅限在预约时间发生前</span>
                            <input type="text" oninput="value=value.replace(/[^\d]+/g,'')" v-model="configChangeEdu"
                                   placeholder="0">
                            <span>小时内修改</span></p>
                        <p><span>未经允许是否可以上课</span>
                            <label class="fl">
                                <input type="radio" v-model="configStartClass" value="1">
                                <span>是</span>
                            </label>
                            <label class="fl">
                                <input type="radio" v-model="configStartClass" value="0">
                                <span>否</span>
                            </label>
                            <span class="red">（如果没有预约的课程就无法开课）</span>
                        </p>
                        <p><span>前台预约是否允许选择教练</span>
                            <label class="fl">
                                <input type="radio" v-model="configSelectCoach" value="1">
                                <span>允许</span>
                            </label>
                            <label class="fl">
                                <input type="radio" v-model="configSelectCoach" value="0">
                                <span>不允许</span>
                            </label>
                            <span class="red">（只允许指定教练上课）</span>
                        </p>
                        <p><span>团会员APP预约是否需要确认：</span>
                            <label class="fl">
                                <input type="radio" v-model="configConfirmEdu" value="1">
                                <span>是</span>
                            </label>
                            <label class="fl">
                                <input type="radio" v-model="configConfirmEdu" value="0">
                                <span>否</span>
                            </label>
                        </p>
                        <p><span>团课开始之前</span>
                            <input type="text" placeholder="0" v-model="configBeginClass"
                                   oninput="value=value.replace(/[^\d]+/g,'')">
                            <span>分钟，团操老师可刷团会员APP二维码入场</span>
                        </p>
                    </div>
                </div>
                <h4>课程结算：</h4>
                <div class="bookBody">
                    <div class="bookBody_b">
                        <p><label class="fl">
                            <input type="checkbox" v-model="isOnlinePay">
                            <span>团会员预约与扣费【PC端不能预约】</span> </label></p>
                        <ul>
                            <li>
                                <p><span>每节课</span>
                                    <input type="text" placeholder="0" v-model="price"
                                           oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                    <span>元</span>
                                </p>
                                <p><span>限制约课</span>
                                    <label class="fl">
                                        <input type="radio" v-model="isLimitReserveClass" value="1">
                                        <span>是</span>
                                    </label>
                                    <label class="fl">
                                        <input type="radio" v-model="isLimitReserveClass" value="0">
                                        <span>否</span>
                                    </label>
                                </p>
                                <p class="bor">
                                    <span>预约对象：</span>
                                    <!--<label class="fl"><input type="checkbox" v-model="p1"> <span>新注册</span>-->
                                    <!--</label>-->
                                    <label class="fl"><input type="checkbox" v-model="p2"> <span>普通会员</span>
                                    </label>
                                    <label class="fl"><input type="checkbox" v-model="p3"> <span>银卡会员</span>
                                    </label>
                                    <label class="fl"><input type="checkbox" v-model="p4"> <span>金卡会员</span>
                                    </label>
                                    <label class="fl"><input type="checkbox" v-model="p5"> <span>钻卡会员</span>
                                    </label>
                                    <label class="fl"><input type="checkbox" v-model="p6"> <span>潜在会员</span>
                                    </label>
                                </p>
                            </li>
                        </ul>

                        <p>
                            <label class="fl">
                                <input type="checkbox" v-model="isMemberCardPay">
                                <span>会员卡结算</span> <span
                                    class="red">涉及以下选择的会员卡使用设置</span>
                            </label>
                        </p>
                        <ul>
                            <li>
                                <div class="bor">
                                    <ul>
                                        <template v-for="item in resultCourseList">
                                            <li>
                                                <label>
                                                    <input type="checkbox" v-model="item.status">
                                                    <span>{{item.shopName}}</span>
                                                </label>
                                            </li>
                                            <li>
                                                <ul>
                                                    <li>
                                                        <label>
                                                            <input type="checkbox" v-model="item.groupList.status">
                                                            <span>{{item.groupList.name}}</span>
                                                        </label>
                                                        <hr/>
                                                    </li>

                                                    <li>
                                                        <ul>
                                                            <template v-for="json in item.groupList.courseList">
                                                                <li>
                                                                    <label>
                                                                        <input type="checkbox" v-model="json.status">
                                                                        <span>{{json.courseName}}</span>
                                                                    </label>
                                                                    <hr/>
                                                                    <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                                </li>
                                                            </template>
                                                        </ul>

                                                    </li>

                                                    <li>
                                                        <label>
                                                            <input type="checkbox" v-model="item.privateList.status">
                                                            <span>{{item.privateList.name}}</span>
                                                        </label>
                                                        <hr/>
                                                    </li>

                                                    <li>
                                                        <ul>
                                                            <template v-for="json in item.privateList.courseList">
                                                                <li>
                                                                    <label>
                                                                        <input type="checkbox" v-model="json.status">
                                                                        <span>{{json.courseName}}</span>
                                                                    </label>
                                                                    <hr/>
                                                                    <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                                </li>
                                                            </template>
                                                        </ul>

                                                    </li>

                                                </ul>
                                            </li>
                                        </template>

                                        <!-- // -->

                                        <li>
                                            <label>
                                                <input type="checkbox" v-model="selectCourseStatus">
                                                <span>全选</span>
                                            </label>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>

                        <p><label class="fl"><input type="checkbox" v-model="isCoursePay"> <span>课程结算</span> <span
                                class="red">结算费用 扣除客户所购买的课程数</span>
                        </label></p>
                    </div>
                </div>
                <div class="bookTab">
                    <div class="tabFoot clearfix">
                        <a class="btn btnBlue" @click="save">确认</a><a class="btn btnRed"
                                                                      onclick="newCustomers_maskLayer_X()">取消</a>
                    </div>
                </div>
            </div>
            <div class="newCustomers_maskLayer_box_botton">

            </div>
        </div>
    </div>
</template>

<!-- 结账情况列表 -->
<template id="edu-settlement-id">
    <div id="checkoutList">
        <p class="clearfix">
            <input type="text" placeholder="手机号码/卡号" v-model="searchInput"/>
            <label class="fl">
                <input type="text" class="jeinput" placeholder="开始时间" id="settlement-begin-date"/> ~ <input
                    type="text" class="jeinput " id="settlement-end-date"
                    placeholder="结束时间"/>
            </label>
            <input type="submit" value="搜索" class="sear" @click="search"/>
        </p>
        <table border="1" bordercolor="#ccc">
            <thead>
            <tr>
                <td>序号</td>
                <td>教练</td>
                <td>授课类型</td>
                <td>消费课程</td>
                <td>会员卡号</td>
                <td>姓名</td>
                <td>手机号码</td>
                <td>使用日期</td>
                <td>开始时间</td>
                <td>结束时间</td>
                <td>操作员</td>
                <td>状态</td>
                <td>操作</td>
            </tr>
            </thead>
            <tbody>
            <tr v-for="(item, index) in resultList">
                <td>{{index + 1}}</td>
                <td>{{item.coachName}}</td>
                <td>团体教学</td>
                <td class="blue">{{item.courseName}}</td>
                <td class="orange">{{item.memberCardNo}}</td>
                <td class="seaBlue">{{item.memberName}}</td>
                <td class="red">{{item.memberMobile}}</td>
                <td>{{item.createDate| toDateyyyyMMdd}}</td>
                <td>{{item.beginDate| toDateHHmm}}</td>
                <td>{{item.endDate| toDateHHmm}}</td>
                <td>{{item.createName}}</td>

                <template v-if="item.status == 2 ">
                    <td class="grey">已结束</td>
                </template>
                <template v-if="item.status == 0">
                    <td class="grey">已冲销</td>
                </template>
                <td>
                    <span class="sWrap clearfix">
                        <!--<span class="toGreen">结账</span>-->
                        <!--<span class="toOrange" @click="printMemberOrder">打印</span>-->
                        <template v-if="item.status == 2 ">
                            <span class="toRed" @click="cancelMemberOrder(item)">冲销</span>
                        </template>
                        <template v-if="item.status == 0">
                            <span class="grey" style="background: #b3a9ac;">冲销</span>
                        </template>

                    </span>
                </td>
            </tr>
            </tbody>
        </table>

    </div>
</template>
<!-- 结账情况列表 -->

<!-- 消费明细表 -->
<template id="edu-consume-detail-id">
    <div id="consumptionSchedule">
        <div class="tabSpan">
            <span :class='{on: index == 0}' @click="index = 0">课程消费明细表</span>
            <span :class='{on: index == 1}' @click="index = 1">个人消费明细表</span>
        </div>
        <div class="select select1" :class='{on: index == 0}' v-show="index == 0">
            <div class="selectBox">
                <p>
                    <label>
                        <span>筛选条件：</span>
                        <!--  <input type="text" placeholder="手机号码/卡号"/>-->
                        <input type="text" class="jeinput " placeholder="开始时间" id="consume-start-date"
                               v-model="classBeginDate"/> ~ <input
                            type="text" class="jeinput " id="consume-end-date" v-model="classEndDate"
                            placeholder="结束时间"/>
                    </label>
                </p>
                <p>
                    <label>
                        <span>高级搜索：</span>
                        <input type="text" placeholder="项目/课程" v-model="classSearchCourse"/>
                        <input type="text" placeholder="教练/销售人员" v-model="classSearchCoach"/>
                        <input type="submit" value="搜索" @click="classSearch"/>
                    </label>
                </p>
            </div>
            <h3>健身团教 · 课程消费明细表</h3>
            <div class="tabTop clearfix">
                <!--<p class="lef fl">-->
                <!--共计：￥<span class="red">5.00 </span> 年卡消费：￥<span class="orange">5.00 </span>-->
                <!--</p>-->
                <!--<p class="rig fr">-->
                    <!--<span class="toOrange">打印</span>-->
                    <!--<span class="toGreen">导出</span>-->
                <!--</p>-->
            </div>
            <table border="1" bordercolor="#ccc">
                <thead>
                <tr>
                    <td>序号</td>
                    <td>开课日期</td>
                    <td>消费课程</td>
                    <td>开始时间</td>
                    <td>结束时间</td>
                    <td>总时长（分）</td>
                    <td>总收入</td>
                    <td>（总人数/<span class="orange">上课人数</span>/<span class="grey">失约人数</span>）</td>
                    <td>教练</td>
                    <td>教室</td>
                    <td>结算员</td>
                    <td>评分</td>
                    <td>训练详情</td>
                </tr>
                </thead>
                <tbody>
                <tr v-for="(item, i) in classResultList">
                    <td>{{i + 1}}</td>
                    <td class="green">{{item.beginDate| toDateyyyyMMdd}}</td>
                    <td class="blue">{{item.courseName}}</td>
                    <td>{{item.beginDate| toDateHHmm}}</td>
                    <td class="red">{{item.endDate| toDateHHmm}}</td>
                    <td>{{item.totalTime| toCalcNum}}</td>
                    <td>{{item.totalGain| toMoney}}</td>
                    <td>
                        {{item.totalNum| toCalcNum}}<span class="orange">{{item.finishNum| toCalcNum}}</span>/<span
                            class="grey">{{item.undoneNum| toCalcNum}}</span> <span
                            class="orange" @click="index = 1">查看</span>
                    </td>
                    <td>{{item.coachName}}</td>
                    <td>{{item.roomName}}</td>
                    <td>{{item.createUser}}</td>
                    <td class="orange">{{item.score| toCalcNum}}</td>
                    <td class="blue" @click="trainingDetails(item)">详情</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="select select2" :class='{on: index == 1}' v-show="index == 1">
            <div class="selectBox">
                <p>
                    <label>
                        <span>筛选条件：</span>
                        <input type="text" placeholder="手机号码/卡号"/>
                        <input type="text" class="jeinput " placeholder="开始时间" id="consume-member-start-date"
                               v-model="memberBeginDate"/> ~ <input
                            type="text" class="jeinput " id="consume-member-end-date" v-model="memberEndDate"
                            placeholder="结束时间"/>
                    </label>
                </p>
                <p>
                    <label>
                        <span>高级搜索：</span>
                        <select name="" v-model="selectCardType">
                            <option value="" selected>卡类别筛选</option>
                            <option v-for='(item,index) in cardTypeList' :value="item.cardType">
                                {{item.cardType}}
                            </option>
                        </select>

                        <select name="" v-model="selectCardName">
                            <option value="" selected>卡名称筛选</option>
                            <option v-for='(item,index) in cardNameList' :value="item.cardName">
                                {{item.cardName}}
                            </option>
                        </select>

                        <select name="">
                            <option value="">卡名称筛选</option>
                        </select>
                        <input type="text" placeholder="项目/课程" v-model="memberSearchCourse"/>
                        <input type="text" placeholder="教练/销售人员" v-model="memberSearchCoach"/>
                        <input type="submit" value="搜索" @click="memberSearch"/>
                    </label>
                </p>
            </div>
            <h3>健身团教 · 个人消费明细表</h3>
            <div class="tabTop clearfix">
                <!--<p class="lef fl">-->
                <!--共计：￥<span class="red">5.00 </span> 年卡消费：￥<span class="orange">5.00 </span>-->
                <!--</p>-->
                <!--<p class="rig fr">-->
                    <!--<span class="toOrange">打印</span>-->
                    <!--<span class="toGreen">导出</span>-->
                <!--</p>-->
            </div>
            <div class="overflow">
                <table border="1" bordercolor="#ccc">
                    <thead>
                    <tr>
                        <td>序号</td>
                        <td>消费日期</td>
                        <td>消费课程</td>
                        <td>课时数</td>
                        <td>消费金额</td>
                        <td>开始时间</td>
                        <td>结束时间</td>
                        <td>总时长（分）</td>
                        <td>会员卡号</td>
                        <td>会员姓名</td>
                        <td>性别</td>
                        <td>手机号码</td>
                        <td>卡类别</td>
                        <td>卡名称</td>
                        <td>可用权益</td>
                        <td>剩余权益</td>
                        <td>教练</td>
                        <td>教室</td>
                        <td>结算员</td>
                        <td>评分</td>
                        <td>评分内容</td>
                        <td>训练详情</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr v-for="(item, index) in memberResultList">
                        <td>{{index + 1}}</td>
                        <td>{{item.createDate| toDateyyyyMMdd}}</td>
                        <td class="blue">{{item.courseName}}</td>
                        <td>{{item.classNum| toCalcNum}}</td>
                        <td class="red">{{item.price| toMoney}}</td>
                        <td>{{item.beginDate| toDateHHmm}}</td>
                        <td>{{item.endDate| toDateHHmm}}</td>
                        <td>{{item.totalTime| toCalcNum}}</td>
                        <td class="orange">{{item.memberCardNo}}</td>
                        <td class="blue">{{item.memberName}}</td>
                        <td class="blue">{{item.sex| toSex}}</td>
                        <td>{{item.mobile}}</td>
                        <td>{{item.cardType}}</td>
                        <td class="orange">{{item.cardName}}</td>
                        <td>{{item.useBenefit| toCalcNum}}</td>
                        <td class="red">{{item.remainBenefit| toCalcNum}}</td>
                        <td>{{item.coachName}}</td>
                        <td>{{item.roomName}}</td>
                        <td>{{item.createName}}</td>
                        <td class="orange">{{item.score| toCalcNum}}</td>
                        <td>{{item.description}}</td>
                        <td class="blue" @click="trainingDetails(item)">详情</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</template>

<!-- 消费明细表详情 -->
<template id="edu-training-detail-id">
    <div id="trainingDetails" class="newCustomers_maskLayer" style="display: block;" v-if="isShow">

        <div class="newCustomers_maskLayer_box">
            <div class="newCustomers_maskLayer_box_top">
                <span>训练详情</span>
                <a href="javascript:;" class="newCustomers_maskLayer_X"
                   @click="isShow=false">X</a>
            </div>
            <div class="newCustomers_maskLayer_box_shen">

                <table class="table table-hover table-bordered">
                    <thead>
                    <tr>
                        <th>序号</th>
                        <th>训练日期</th>
                        <th>计划开始时间</th>
                        <th>计划结束时间</th>
                        <th>实际训练日期</th>
                        <th>实际开始时间</th>
                        <th>实际结束时间</th>
                        <th>课程详情</th>
                        <th>会员自我感觉</th>
                        <th>教练小结</th>
                        <th>方案改进</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>1</td>
                        <td>{{eduItem.executeDatePlan}}</td>
                        <td class="green">{{eduItem.beginDatePlan| toDateHHmm}}</td>
                        <td class="red">{{eduItem.endDatePlan| toDateHHmm}}</td>
                        <td class="blue">{{eduItem.beginDate}}</td>
                        <td class="zhise">{{eduItem.endDate| toDateHHmm}}</td>
                        <td>{{eduItem.endDate| toDateHHmm}}</td>
                        <td>{{eduItem.courseName}}</td>
                        <td>{{eduItem.memberAssess}}</td>
                        <td>{{eduItem.coachSummary}}</td>
                        <td>{{eduItem.programBetter}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</template>

<!-- 会员冻结列表 -->
<template id="edu-freeze-detail-id">
    <div id="memberFreezelist">
        <div>
            <input type="text" placeholder="手机号码/卡号" v-model="searchInput"/>
            <input type="text" class="jeinput " placeholder="开始时间" id="freeze-begin-date" v-model="beginDate"/>
            ~ <input type="text" class="jeinput " placeholder="结束时间" id="freeze-end-date" v-model="endDate"/>
            <input type="submit" value="搜索" @click="search"/>
        </div>
        <table border="1" bordercolor="#ccc">
            <thead>
            <tr>
                <td>序号</td>
                <td>门店</td>
                <td>会员姓名</td>
                <td>会员手机号</td>
                <td>解冻金额（元/次）</td>
                <td>解冻时间</td>
                <td>解冻时间</td>
                <td>备注</td>
                <td>操作</td>
            </tr>
            </thead>
            <tbody>
            <tr v-for="(item, index) in resultList">
                <td>{{index + 1}}</td>
                <td>{{item.shopName}}</td>
                <td class="blue">{{item.clientName}}</td>
                <td class="orange">{{item.mobile}}</td>
                <td class="red">{{item.price| toMoney}}</td>
                <td>{{item.freezeDate| toDateyyyyMMddHHmm}}</td>
                <td>{{item.unFreezeDate| toDateyyyyMMddHHmm}}</td>
                <td>{{item.remake}}</td>
                <td class="orange" @click="deleteFreeze(item, index)">解冻</td>
            </tr>
            </tbody>
        </table>

    </div>
</template>

<!-- 团操课程表 -->
<template id="edu-course-date-list-id">
    <div id="groupCourseSchedule">
        <div class="selectWrap clearfix">
            <div class="selectLeft fl">
                <label>
                    <span>教练筛选：</span>
                    <select name="" v-model="selectCoachId">
                        <option value="" selected>全部教练</option>
                        <option v-for='(item,index) in coachList' :value="item.coachId">
                            {{item.coachName}}
                        </option>
                    </select>
                </label>

            </div>
        </div>
        <div class="lisNavBar clearfix">
            <span @click="LI(5,1)">批量排团课</span>
            <span @click="LI(5,2)">复制排课</span>
            <!--<span>打印课程</span>-->
            <div class="pull-right">
                <span :class='{on: index == 0}' @click="index = 0">周</span>
                <span :class='{on: index == 1}' @click="index = 1">月</span>
            </div>
        </div>
        <div v-if="index==0">
            <div id="week">
                <div class="sc-calendar">
                    <div class="sc-header">
                        <ul>
                            <li v-for="(item, index) in roomList" @click="selectRoomFunc(item)" v-model="selectRoomId">
                                <span class="yuan" :class="{active: selectRoomId == item.roomId}"></span>
                                {{item.roomName}}
                            </li>
                        </ul>
                    </div>
                    <!-- 室 -->
                    <div class="sc-body" >
                        <h4>{{selectRoomName}}</h4>
                        <div class="sc-week">
                            <div class="sc-week-item">时间设置</div>
                            <div class="sc-week-item">周一</div>
                            <div class="sc-week-item">周二</div>
                            <div class="sc-week-item">周三</div>
                            <div class="sc-week-item">周四</div>
                            <div class="sc-week-item">周五</div>
                            <div class="sc-week-item">周六</div>
                            <div class="sc-week-item">周日</div>
                        </div>
                        <div class="sc-days" style="min-height: 42px;">
                            <template v-for="item in resultListWeek">
                                <div class="sc-days-box">
                                    <div class="sc-item on">
                                        {{item.date}}
                                    </div>
                                    <template v-for="obj in item.list">
                                        <div class="sc-item" @mouseenter="weekEnter(obj)" @mouseleave="weekLeave()">
                                            <div class="tool" style="display: block;" v-if="selectUniId == obj.id">
                                                <template v-if="obj.list.length != 0">
                                                    <span class="toolblur on" @click="copyEdu(obj)">复制</span>
                                                    <span class="toolred on" @click="deleteEdu(obj)">删除</span>
                                                </template>
                                                <template v-if="obj.list.length == 0">
                                                    <span class="toolorange" style="display: block"
                                                          @click="pastEdu(obj,item.date)">粘贴</span>
                                                </template>

                                            </div>
                                            <div class="dataday">
                                                <div v-for="json in obj.list">
                                                    <p>{{json.courseName}}</p>
                                                    <p>{{json.coachName}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </template>
                        </div>
                        <div class="subjoin" @click="addWeekEdu">+ 新增</div>
                    </div>
                    <!-- 室 -->
                </div>
            </div>
        </div>
        <div id="container" v-if="index==1">

            <div class="sc-calendar">
                <div class="sc-header">
                    <div class="sc-actions">
                        <div class="sc-yleft"> ‹</div>
                        <div class="sc-yright">›</div>
                    </div>
                    <div class="sc-actions">
                        <div class="sc-mleft">
                            <img src="../img/prev.png" @click="nextMonthFunc(-1)">
                        </div>
                        <select class="sc-select-year" name="" v-model="selectYear">
                            <option value="1900">1900年</option>
                            <option value="1901">1901年</option>
                            <option value="1902">1902年</option>
                            <option value="1903">1903年</option>
                            <option value="1904">1904年</option>
                            <option value="1905">1905年</option>
                            <option value="1906">1906年</option>
                            <option value="1907">1907年</option>
                            <option value="1908">1908年</option>
                            <option value="1909">1909年</option>
                            <option value="1910">1910年</option>
                            <option value="1911">1911年</option>
                            <option value="1912">1912年</option>
                            <option value="1913">1913年</option>
                            <option value="1914">1914年</option>
                            <option value="1915">1915年</option>
                            <option value="1916">1916年</option>
                            <option value="1917">1917年</option>
                            <option value="1918">1918年</option>
                            <option value="1919">1919年</option>
                            <option value="1920">1920年</option>
                            <option value="1921">1921年</option>
                            <option value="1922">1922年</option>
                            <option value="1923">1923年</option>
                            <option value="1924">1924年</option>
                            <option value="1925">1925年</option>
                            <option value="1926">1926年</option>
                            <option value="1927">1927年</option>
                            <option value="1928">1928年</option>
                            <option value="1929">1929年</option>
                            <option value="1930">1930年</option>
                            <option value="1931">1931年</option>
                            <option value="1932">1932年</option>
                            <option value="1933">1933年</option>
                            <option value="1934">1934年</option>
                            <option value="1935">1935年</option>
                            <option value="1936">1936年</option>
                            <option value="1937">1937年</option>
                            <option value="1938">1938年</option>
                            <option value="1939">1939年</option>
                            <option value="1940">1940年</option>
                            <option value="1941">1941年</option>
                            <option value="1942">1942年</option>
                            <option value="1943">1943年</option>
                            <option value="1944">1944年</option>
                            <option value="1945">1945年</option>
                            <option value="1946">1946年</option>
                            <option value="1947">1947年</option>
                            <option value="1948">1948年</option>
                            <option value="1949">1949年</option>
                            <option value="1950">1950年</option>
                            <option value="1951">1951年</option>
                            <option value="1952">1952年</option>
                            <option value="1953">1953年</option>
                            <option value="1954">1954年</option>
                            <option value="1955">1955年</option>
                            <option value="1956">1956年</option>
                            <option value="1957">1957年</option>
                            <option value="1958">1958年</option>
                            <option value="1959">1959年</option>
                            <option value="1960">1960年</option>
                            <option value="1961">1961年</option>
                            <option value="1962">1962年</option>
                            <option value="1963">1963年</option>
                            <option value="1964">1964年</option>
                            <option value="1965">1965年</option>
                            <option value="1966">1966年</option>
                            <option value="1967">1967年</option>
                            <option value="1968">1968年</option>
                            <option value="1969">1969年</option>
                            <option value="1970">1970年</option>
                            <option value="1971">1971年</option>
                            <option value="1972">1972年</option>
                            <option value="1973">1973年</option>
                            <option value="1974">1974年</option>
                            <option value="1975">1975年</option>
                            <option value="1976">1976年</option>
                            <option value="1977">1977年</option>
                            <option value="1978">1978年</option>
                            <option value="1979">1979年</option>
                            <option value="1980">1980年</option>
                            <option value="1981">1981年</option>
                            <option value="1982">1982年</option>
                            <option value="1983">1983年</option>
                            <option value="1984">1984年</option>
                            <option value="1985">1985年</option>
                            <option value="1986">1986年</option>
                            <option value="1987">1987年</option>
                            <option value="1988">1988年</option>
                            <option value="1989">1989年</option>
                            <option value="1990">1990年</option>
                            <option value="1991">1991年</option>
                            <option value="1992">1992年</option>
                            <option value="1993">1993年</option>
                            <option value="1994">1994年</option>
                            <option value="1995">1995年</option>
                            <option value="1996">1996年</option>
                            <option value="1997">1997年</option>
                            <option value="1998">1998年</option>
                            <option value="1999">1999年</option>
                            <option value="2000">2000年</option>
                            <option value="2001">2001年</option>
                            <option value="2002">2002年</option>
                            <option value="2003">2003年</option>
                            <option value="2004">2004年</option>
                            <option value="2005">2005年</option>
                            <option value="2006">2006年</option>
                            <option value="2007">2007年</option>
                            <option value="2008">2008年</option>
                            <option value="2009">2009年</option>
                            <option value="2010">2010年</option>
                            <option value="2011">2011年</option>
                            <option value="2012">2012年</option>
                            <option value="2013">2013年</option>
                            <option value="2014">2014年</option>
                            <option value="2015">2015年</option>
                            <option value="2016">2016年</option>
                            <option value="2017">2017年</option>
                            <option value="2018">2018年</option>
                            <option value="2019">2019年</option>
                            <option value="2020">2020年</option>
                            <option value="2021">2021年</option>
                            <option value="2022">2022年</option>
                            <option value="2023">2023年</option>
                            <option value="2024">2024年</option>
                            <option value="2025">2025年</option>
                            <option value="2026">2026年</option>
                            <option value="2027">2027年</option>
                            <option value="2028">2028年</option>
                            <option value="2029">2029年</option>
                            <option value="2030">2030年</option>
                            <option value="2031">2031年</option>
                            <option value="2032">2032年</option>
                            <option value="2033">2033年</option>
                            <option value="2034">2034年</option>
                            <option value="2035">2035年</option>
                            <option value="2036">2036年</option>
                            <option value="2037">2037年</option>
                            <option value="2038">2038年</option>
                            <option value="2039">2039年</option>
                            <option value="2040">2040年</option>
                            <option value="2041">2041年</option>
                            <option value="2042">2042年</option>
                            <option value="2043">2043年</option>
                            <option value="2044">2044年</option>
                            <option value="2045">2045年</option>
                            <option value="2046">2046年</option>
                            <option value="2047">2047年</option>
                            <option value="2048">2048年</option>
                            <option value="2049">2049年</option>
                        </select>
                        <select class="sc-select-month" name="" v-model="selectMonth">
                            <option value="1">1月</option>
                            <option value="2">2月</option>
                            <option value="3">3月</option>
                            <option value="4">4月</option>
                            <option value="5">5月</option>
                            <option value="6">6月</option>
                            <option value="7">7月</option>
                            <option value="8">8月</option>
                            <option value="9">9月</option>
                            <option value="10">10月</option>
                            <option value="11">11月</option>
                            <option value="12">12月</option>
                        </select>
                        <div class="sc-mright">
                            <img src="../img/next.png" @click="nextMonthFunc(+1)">
                        </div>
                        <div class="sc-pull-right" style="display: inline-table;">
                            <div><strong class="sc-hui"></strong><span>已过期</span></div>
                            <div><strong class="sc-green"></strong><span>正在进行</span></div>
                            <div><strong class="sc-hei"></strong><span>未开始</span></div>
                            <div><strong class="sc-red"></strong><span>约满</span></div>
                        </div>
                        <!--<div class="sc-pull-right">-->
                        <!--<div><strong class="sc-hei"></strong><span>上班时间</span></div>-->
                        <!--<div><strong class="sc-hui"></strong><span>休息时间</span></div>-->
                        <!--</div>-->
                    </div>
                    <!--<div class="sc-actions"><span class="sc-return-today">返回今天</span></div>-->
                    <!--<div class="sc-actions"><span class="sc-time"></span></div>-->
                </div>
                <div class="sc-body">
                    <div class="sc-week">
                        <div class="sc-week-item">周一</div>
                        <div class="sc-week-item">周二</div>
                        <div class="sc-week-item">周三</div>
                        <div class="sc-week-item">周四</div>
                        <div class="sc-week-item">周五</div>
                        <div class="sc-week-item">周六</div>
                        <div class="sc-week-item">周日</div>
                    </div>
                    <div class="sc-days">
                        <!-- sc-othermenth :class='{on: index == 0}' -->
                        <template v-for="(item, index) in resultListMonth">
                            <div class="sc-item" :class="{'sc-othermenth': !item.status }"  @mouseenter="monthEnter(item)" @mouseleave="monthLeave()">
                                <div class="day">{{item.day}}</div>
                                <div class="dataday">
                                    <template v-for="obj in item.list">
                                        <div :class="{'huihui': obj.status == 2,
                                         'red': (obj.status == 0 && (parseInt(obj.eduCurrentCount?obj.eduCurrentCount:0) +
                                         parseInt(obj.eduToConfirmCount?obj.eduToConfirmCount:0) == parseInt(obj.reserveTotalNum?obj.reserveTotalNum:0))),
                                         'hui': (obj.status == 0 && (parseInt(obj.eduCurrentCount?obj.eduCurrentCount:0) +
                                         parseInt(obj.eduToConfirmCount?obj.eduToConfirmCount:0) == parseInt(obj.reserveTotalNum?obj.reserveTotalNum:0)))? false: obj.status == 0,
                                          'green': obj.status == 1 }" @click="chooseEduSetting(obj)">
                                            <p>{{obj.courseName}}</p>
                                            <p>{{obj.coachName}} {{obj.beginDate| toDateHHmm}}~{{obj.endDate|
                                                toDateHHmm}}</p></div>
                                    </template>
                                </div>
                                <template v-if="selectUniId == item.id">
                                    <div class="sc-bottom" style="display: block;" v-if="item.list.length > 0">
                                        <template v-for="(obj, j) in item.list">
                                            <div><p>{{obj.courseName}}</p>
                                            <p>{{obj.coachName}} {{obj.beginDate| toDateHHmm}}~{{obj.endDate|
                                                toDateHHmm}}</p>
                                                <!-- 未开始和已结束可以删除 -->
                                                <a class="btns" @click="deleteEduMonth(obj,item.list,j)" v-if="obj.status==0 || obj.status==2">X</a>
                                            </div>
                                        </template>
                                        <!--<div><p>健身一对一</p>-->
                                        <!--<p>Klaus 10:00~10:15</p><a class="btns">X</a></div>-->
                                        <!--<div><p>健身一对一</p>-->
                                        <!--<p>Klaus 10:00~10:15</p><a class="btns">X</a></div>-->
                                        <!--<div><p>健身一对一</p>-->
                                        <!--<p>Klaus 10:00~10:15</p><a class="btns">X</a></div>-->
                                    </div>
                                </template>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

        </div>

        <!-- 弹窗 -->
        <div id="classroom" class="newCustomers_maskLayer" style="display: block;" v-show="dateSetStatus">
            <div class="newCustomers_maskLayer_box" style="min-height: auto;">
                <div class="newCustomers_maskLayer_box_top">
                    <span>临时排课</span>
                    <a href="#" @click="dateSetStatus=false"
                       class="newCustomers_maskLayer_X newCustomers_maskLayer_X2">X</a></div>
                <div class="newCustomers_maskLayer_box_shen">
                    <div class="bookBody clearfix">
                        <form class="form-horizontal">
                            <div class="form-group"><label class="col-sm-2 control-label"><span>*</span>开始时间：</label>
                                <div class="col-sm-7">
                                    <input class="form-control" style="max-width: 100%;" v-model="weekBeginDate" id="week-start-begin-date" readonly>
                                </div>
                            </div>
                            <div class="form-group"><label class="col-sm-2 control-label"><span>*</span>结束时间：</label>
                                <div class="col-sm-7">
                                    <input class="form-control" style="max-width: 100%;" v-model="weekEndDate" id="week-start-end-date" readonly>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="bookTab">
                        <div class="tabFoot clearfix"><a class="btn btnBlue" @click="saveDateSet">确认</a>
                            <a class="btn btnRed" @click="dateSetStatus=false">取消</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- 批量排课 -->
<template id="edu-batch-arrangement-id">
    <div id="batchSchedulingClass" class="batchSchedulingClass">
        <div class="bookHeader">
            <img @click="LI(5)" src="../img/goback.png" alt=""/>
            <span><span class="grey" @click="LI(5)">团课排期/</span>批量排团课</span>
        </div>
        <div class="bookBody clearfix">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label">门店：</label>
                    <div class="col-sm-5">
                        <span>{{shopName}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span>场地/教室：</label>
                    <div class="col-sm-5">
                        <select name="" v-model="selectRoomId">
                            <option v-for='(item,index) in roomList' :value="item.roomId">
                                {{item.roomName}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span>教练：</label>
                    <div class="col-sm-5">
                        <select class="form-control" v-model="selectCoachId">
                            <option v-for='(item,index) in coachList' :value="item.coachId">
                                {{item.coachName}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span>课程：</label>
                    <div class="col-sm-5">
                        <select class="form-control" v-model="selectCourseId">
                            <option value="0" v-for="item in courseList" :value="item.courseId">
                                {{item.courseName}}
                            </option>

                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span>课程日期：</label>
                    <div class="col-sm-5">
                        <input type="text" class="jeinput form-control"
                               id="batch-execute-begin-date" placeholder="开始时间" v-model="executeBeginDate" readonly/>
                        <span> ~ </span>
                        <input type="text" class="jeinput form-control"
                               id="batch-execute-end-date" placeholder="结束时间" v-model="executeEndDate" readonly/>
                    </div>
                </div>
            </form>
        </div>
        <h4>课程周期设置：<span>清除课程周期</span></h4>
        <div class="bookBody">
            <div class="bookBody_b">
                <p><span>每周：</span> <span class="red">当前课程时长为{{courseTime}}分钟</span></p>
                <ul>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w1.status">
                            <span>周一</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w1-begin-date" v-model="w1.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w1.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w2.status">
                            <span>周二</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w2-begin-date" v-model="w2.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w2.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w3.status">
                            <span>周三</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w3-begin-date" v-model="w3.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w3.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w4.status">
                            <span>周四</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w4-begin-date" v-model="w4.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w4.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w5.status">
                            <span>周五</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w5-begin-date" v-model="w5.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w5.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w6.status">
                            <span>周六</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w6-begin-date" v-model="w6.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w6.end}}</strong>
                    </li>
                    <li>
                        <label class="fl">
                            <input type="checkbox" v-model="w7.status">
                            <span>周日</span>
                        </label>
                        上课时间：<input type="text" class="jeinput" id="batch-w7-begin-date" v-model="w7.begin" readonly
                                    placeholder="开始时间"/>至 <strong>{{w7.end}}</strong>
                    </li>

                </ul>
                <p>课程周期：上课时间为每个 周一的00:00-23:59、周二的00:00-23:59、周三的00:00-23:59、周四的00:00-23:59、周五的
                    00:00-23:59</p>
            </div>
            <!--<div class="bookBody_c">-->
            <!--<img src="../img/u6202.png" alt=""><span>+</span>-->
            <!--</div>-->
        </div>
        <h4>开放预约时间：</h4>
        <div class="bookBody">
            <div class="bookBody_b">
                <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="1">
                    <span>立即开放预约</span> </label></p>
                <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="2">
                    <span>定时开放预约</span>
                    <input type="text" class="jeinput"
                           id="batch-execute-reserve-date" v-model="openReserveDateSelect"></label>
                </p>
                <p>
                    <label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="3">
                        <span>课程开始前</span> </label>
                    <!--<select name="0">-->
                    <!--<option value="0">0</option>-->
                    <!--</select>-->
                    <input type="text" v-model="reserveHoursBegin" placeholder="0"
                           oninput="value=value.replace(/[^\d]+/g,'')">
                    <span>小时开放预约</span>
                </p>
                <p><span>预约设置修改，仅限在预约时间发生前</span>
                    <input type="text" oninput="value=value.replace(/[^\d]+/g,'')" v-model="configChangeEdu"
                           placeholder="0">
                    <span>小时内修改</span></p>
                <p><span>未经允许是否可以上课</span>
                    <label class="fl">
                        <input type="radio" v-model="configStartClass" value="1">
                        <span>是</span>
                    </label>
                    <label class="fl">
                        <input type="radio" v-model="configStartClass" value="0">
                        <span>否</span>
                    </label>
                    <span class="red">（如果没有预约的课程就无法开课）</span>
                </p>
                <p><span>前台预约是否允许选择教练</span>
                    <label class="fl">
                        <input type="radio" v-model="configSelectCoach" value="1">
                        <span>允许</span>
                    </label>
                    <label class="fl">
                        <input type="radio" v-model="configSelectCoach" value="0">
                        <span>不允许</span>
                    </label>
                    <span class="red">（只允许指定教练上课）</span>
                </p>
                <p><span>团会员APP预约是否需要确认：</span>
                    <label class="fl">
                        <input type="radio" v-model="configConfirmEdu" value="1">
                        <span>是</span>
                    </label>
                    <label class="fl">
                        <input type="radio" v-model="configConfirmEdu" value="0">
                        <span>否</span>
                    </label>
                </p>
                <p><span>团课开始之前</span>
                    <input type="text" placeholder="0" v-model="configBeginClass"
                           oninput="value=value.replace(/[^\d]+/g,'')">
                    <span>分钟，团操老师可刷团会员APP二维码入场</span>
                </p>
            </div>
        </div>
        <h4>课程结算：</h4>
        <div class="bookBody">
            <div class="bookBody_b">
                <p><label class="fl">
                    <input type="checkbox" v-model="isOnlinePay">
                    <span>团会员预约与扣费【PC端不能预约】</span> </label></p>
                <ul>
                    <li>
                        <p><span>每节课</span>
                            <input type="text" placeholder="0" v-model="price"
                                   oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                            <span>元</span>
                        </p>
                        <p><span>限制约课</span>
                            <label class="fl">
                                <input type="radio" v-model="isLimitReserveClass" value="1">
                                <span>是</span>
                            </label>
                            <label class="fl">
                                <input type="radio" v-model="isLimitReserveClass" value="0">
                                <span>否</span>
                            </label>
                        </p>
                        <p class="bor">
                            <span>预约对象：</span>
                            <!--<label class="fl"><input type="checkbox" v-model="p1"> <span>新注册</span>-->
                            <!--</label>-->
                            <label class="fl"><input type="checkbox" v-model="p2"> <span>普通会员</span>
                            </label>
                            <label class="fl"><input type="checkbox" v-model="p3"> <span>银卡会员</span>
                            </label>
                            <label class="fl"><input type="checkbox" v-model="p4"> <span>金卡会员</span>
                            </label>
                            <label class="fl"><input type="checkbox" v-model="p5"> <span>钻卡会员</span>
                            </label>
                            <label class="fl"><input type="checkbox" v-model="p6"> <span>潜在会员</span>
                            </label>
                        </p>
                    </li>
                </ul>

                <p>
                    <label class="fl">
                        <input type="checkbox" v-model="isMemberCardPay">
                        <span>会员卡结算</span> <span
                            class="red">涉及以下选择的会员卡使用设置</span>
                    </label>
                </p>
                <ul>
                    <li>
                        <div class="bor">
                            <ul>
                                <template v-for="item in resultCourseList">
                                    <li>
                                        <label>
                                            <input type="checkbox" v-model="item.status">
                                            <span>{{item.shopName}}</span>
                                        </label>
                                    </li>
                                    <li>
                                        <ul>
                                            <li>
                                                <label>
                                                    <input type="checkbox" v-model="item.groupList.status">
                                                    <span>{{item.groupList.name}}</span>
                                                </label>
                                                <hr/>
                                            </li>

                                            <li>
                                                <ul>
                                                    <template v-for="json in item.groupList.courseList">
                                                        <li>
                                                            <label>
                                                                <input type="checkbox" v-model="json.status">
                                                                <span>{{json.courseName}}</span>
                                                            </label>
                                                            <hr/>
                                                            <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                        </li>
                                                    </template>
                                                </ul>

                                            </li>

                                            <li>
                                                <label>
                                                    <input type="checkbox" v-model="item.privateList.status">
                                                    <span>{{item.privateList.name}}</span>
                                                </label>
                                                <hr/>
                                            </li>

                                            <li>
                                                <ul>
                                                    <template v-for="json in item.privateList.courseList">
                                                        <li>
                                                            <label>
                                                                <input type="checkbox" v-model="json.status">
                                                                <span>{{json.courseName}}</span>
                                                            </label>
                                                            <hr/>
                                                            <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                        </li>
                                                    </template>
                                                </ul>

                                            </li>

                                        </ul>
                                    </li>
                                </template>

                                <!-- // -->

                                <li>
                                    <label>
                                        <input type="checkbox" v-model="selectCourseStatus">
                                        <span>全选</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>

                <p><label class="fl"><input type="checkbox" v-model="isCoursePay"> <span>课程结算</span> <span
                        class="red">结算费用 扣除客户所购买的课程数</span>
                </label></p>
            </div>
        </div>
        <div class="bookTab">
            <div class="tabFoot clearfix">
                <a class="btn btnBlue" @click="save">确认</a><a class="btn btnRed" @click="LI(5)">取消</a>
            </div>
        </div>
    </div>
</template>

<!-- 复制排课 -->
<template id="edu-copy-class-id">
    <div id="copyClass" class="copyClass">
        <div class="bookHeader">
            <img @click="LI(5)" src="../img/goback.png" alt=""/>
            <span><span class="grey" @click="LI(5)">团课排期/</span>复制排课</span>
        </div>
        <div class="bookBody clearfix">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span class="red">*</span> 复制课程：</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control"
                               placeholder="" id="copy-start-date" v-model="beginDate" readonly/>~
                        <input type="text" class="form-control"
                               placeholder="" id="copy-end-date" v-model="endDate" readonly/><span
                            class="red">所选日期不能超过31天</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" style="opacity: 0;">.</label>
                    <div class="col-sm-9">
                        <select class="form-control" v-model="selectCoachId">
                            <!--<option value="">全部教练</option>-->
                            <option v-for='(item,index) in coachList' :value="item.coachId">
                                {{item.coachName}}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" style="opacity: 0;">.</label>
                    <div class="col-sm-9">
                        <select class="form-control" v-model="selectCourseId">
                            <!--<option value="">全部课程</option>-->
                            <option value="0" v-for="item in courseList" :value="item.courseId">
                                {{item.courseName}}
                            </option>

                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span>复制到：</label>
                    <div class="col-sm-9">
                        <input type="text" class="jeinput form-control" v-model="copyBeginDate" id="copy-to-start-date"
                               placeholder="" readonly/> <span style="margin: 0 15px">
													至 </span> <span>{{copyEndDate}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" style="opacity: 0;">.</label>
                    <div class="col-sm-9">
                        <select class="form-control" v-model="selectToCoachId">
                            <option v-for='(item,index) in coachList' :value="item.coachId">
                                {{item.coachName}}
                            </option>
                        </select>
                        <span class="red">将上方所选教练的某个时间段的课程复制给该教练，默认为上方所选教练</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label"><span>*</span> 即：</label>
                    <div class="col-sm-9">
                        <p>将{{beginDate}}至{{endDate}}期间全部教练的全部课程， 复制到{{copyBeginDate}}至{{copyEndDate}}</p>
                    </div>
                </div>
            </form>
        </div>
        <div class="bookTab">
            <div class="form-group">
                <label class="col-sm-2 control-label" style="opacity: 0;"><span>.</span></label>
                <div class="col-sm-9">
                    <div class="tabFoot clearfix">
                        <a class="btn btnRed" @click="LI(5)">取消</a><a class="btn btnBlue" @click="save">复制排课</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</template>

<!-- 课程设置 -->
<template id="edu-class-setting-id">
    <div>
        <!-- 课程设置 -->
        <div id="Curriculum" class="newCustomers_maskLayer" v-show="settingStatus" style="display: block;">
            <div class="newCustomers_maskLayer_box">
                <div class="newCustomers_maskLayer_box_top">
                    <span>课程设置</span><a href="#" class="newCustomers_maskLayer_X"
                                        @click="settingStatus = false">X</a>
                </div>
                <div class="newCustomers_maskLayer_box_shen">
                    <div class="bookBody clearfix">
                        <div class="lef fl"><img src="../img/u2871.png" alt=""></div>
                        <div class="rig fl">
                            <div>
                                <h3><span class="title">课程名称：</span> <span
                                        class="txt"><strong>{{eduItem.courseName}}</strong></span></h3>
                            </div>
                            <div><span class="title">门店：</span> <span class="txt"><strong>{{eduItem.shopName}}</strong></span>
                            </div>
                            <div><span class="title">教练：</span> <span
                                    class="txt"><strong>{{eduItem.coachName}}</strong></span></div>
                            <div><span class="title">日期：</span> <span
                                    class="txt"><strong>{{eduItem.beginDatePlan| toDateyyyyMMdd}}</strong></span></div>
                            <div><span class="title">时间：</span> <span
                                    class="txt"><strong>{{eduItem.beginDatePlan| toDateHHmm}}~{{eduItem.endDatePlan| toDateHHmm}}</strong></span></div>
                            <div><span class="title">场地：</span> <span
                                    class="txt"><strong>{{eduItem.roomName}}</strong></span></div>
                            <div><span class="title">上课人数：</span> <span
                                    class="txt"><strong>{{eduItem.eduCurrentCount + eduItem.eduToConfirmCount}}/{{eduItem.reserveTotalNum}}</strong></span></div>
                        </div>
                    </div>
                </div>
                <div class="newCustomers_maskLayer_box_botton">
                    <a href="#" class="btn btn-success" @click="LI(0,1)">预约该课程</a>
                    <a href="#" class="btn btn-blue" @click="LI(0,2)">开始上课</a>
                    <a href="#" class="btn btn-danger" @click="showUpdateClass">课程修改</a>
                    <a href="#" class="btn btn-red">删除</a>
                </div>
            </div>
        </div>
        <!-- 课程设置 -->
        <!-- 排课弹窗 -->
        <div id="classroom" class="newCustomers_maskLayer" v-show="updateClassStatus" style="display: block;">
            <div class="newCustomers_maskLayer_box">
                <div class="newCustomers_maskLayer_box_top">
                    <span>排课编辑</span>
                    <a href="javascript:;" class="newCustomers_maskLayer_X"
                       @click="updateClassStatus = false">X</a>
                </div>
                <div class="newCustomers_maskLayer_box_shen">
                    <div class="bookBody clearfix">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span>*</span>教练：</label>
                                <div class="col-sm-7">
                                    <select class="form-control" v-model="selectCoachId">
                                        <option v-for='(item,index) in coachList' :value="item.coachId">
                                            {{item.coachName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span>*</span>课程：</label>
                                <div class="col-sm-7">
                                    <select class="form-control" v-model="selectCourseId">
                                        <option value="0" v-for="item in courseList" :value="item.courseId">
                                            {{item.courseName}}
                                        </option>

                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span>*</span>上课时间：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="jeinput form-control"
                                           placeholder="上课日期" id="setting-execute-date" v-model="executeDate" readonly/>
                                    <input type="text" class="jeinput form-control"
                                           id="setting-execute-begin-date" placeholder="开始时间" v-model="executeBeginDate"
                                           readonly/>
                                    <span> ~ </span>
                                    <input type="text" class="jeinput form-control"
                                           id="setting-execute-end-date" placeholder="结束时间" v-model="executeEndDate"
                                           readonly/>
                                </div>
                            </div>
                        </form>
                    </div>

                    <h4>开放预约时间：</h4>
                    <div class="bookBody">
                        <div class="bookBody_b">
                            <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="1"> <span>立即开放预约</span>
                            </label></p>
                            <p><label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="2"> <span>定时开放预约</span>
                                <input type="text" class="jeinput"
                                       id="setting-execute-reserve-date" v-model="openReserveDateSelect"></label>
                            </p>
                            <p>
                                <label class="fl"><input type="radio" v-model="selectOpenReserveStatus" value="3"> <span>课程开始前</span>
                                </label>
                                <!--<select name="0">-->
                                <!--<option value="0">0</option>-->
                                <!--</select>-->
                                <input type="text" v-model="reserveHoursBegin" placeholder="0"
                                       oninput="value=value.replace(/[^\d]+/g,'')">
                                <span>小时开放预约</span>
                            </p>
                            <p><span>预约设置修改，仅限在预约时间发生前</span>
                                <input type="text" oninput="value=value.replace(/[^\d]+/g,'')" v-model="configChangeEdu"
                                       placeholder="0">
                                <span>小时内修改</span></p>
                            <p><span>未经允许是否可以上课</span>
                                <label class="fl">
                                    <input type="radio" v-model="configStartClass" value="1">
                                    <span>是</span>
                                </label>
                                <label class="fl">
                                    <input type="radio" v-model="configStartClass" value="0">
                                    <span>否</span>
                                </label>
                                <span class="red">（如果没有预约的课程就无法开课）</span>
                            </p>
                            <p><span>前台预约是否允许选择教练</span>
                                <label class="fl">
                                    <input type="radio" v-model="configSelectCoach" value="1">
                                    <span>允许</span>
                                </label>
                                <label class="fl">
                                    <input type="radio" v-model="configSelectCoach" value="0">
                                    <span>不允许</span>
                                </label>
                                <span class="red">（只允许指定教练上课）</span>
                            </p>
                            <p><span>团会员APP预约是否需要确认：</span>
                                <label class="fl">
                                    <input type="radio" v-model="configConfirmEdu" value="1">
                                    <span>是</span>
                                </label>
                                <label class="fl">
                                    <input type="radio" v-model="configConfirmEdu" value="0">
                                    <span>否</span>
                                </label>
                            </p>
                            <p><span>团课开始之前</span>
                                <input type="text" placeholder="0" v-model="configBeginClass"
                                       oninput="value=value.replace(/[^\d]+/g,'')">
                                <span>分钟，团操老师可刷团会员APP二维码入场</span>
                            </p>
                        </div>
                    </div>
                    <h4>课程结算：</h4>
                    <div class="bookBody">
                        <div class="bookBody_b">
                            <p><label class="fl">
                                <input type="checkbox" v-model="isOnlinePay">
                                <span>团会员预约与扣费【PC端不能预约】</span> </label></p>
                            <ul>
                                <li>
                                    <p><span>每节课</span>
                                        <input type="text" placeholder="0" v-model="price"
                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                        <span>元</span>
                                    </p>
                                    <p><span>限制约课</span>
                                        <label class="fl">
                                            <input type="radio" v-model="isLimitReserveClass" value="1">
                                            <span>是</span>
                                        </label>
                                        <label class="fl">
                                            <input type="radio" v-model="isLimitReserveClass" value="0">
                                            <span>否</span>
                                        </label>
                                    </p>
                                    <p class="bor">
                                        <span>预约对象：</span>
                                        <!--<label class="fl"><input type="checkbox" v-model="p1"> <span>新注册</span>-->
                                        <!--</label>-->
                                        <label class="fl"><input type="checkbox" v-model="p2"> <span>普通会员</span>
                                        </label>
                                        <label class="fl"><input type="checkbox" v-model="p3"> <span>银卡会员</span>
                                        </label>
                                        <label class="fl"><input type="checkbox" v-model="p4"> <span>金卡会员</span>
                                        </label>
                                        <label class="fl"><input type="checkbox" v-model="p5"> <span>钻卡会员</span>
                                        </label>
                                        <label class="fl"><input type="checkbox" v-model="p6"> <span>潜在会员</span>
                                        </label>
                                    </p>
                                </li>
                            </ul>

                            <p>
                                <label class="fl">
                                    <input type="checkbox" v-model="isMemberCardPay">
                                    <span>会员卡结算</span> <span
                                        class="red">涉及以下选择的会员卡使用设置</span>
                                </label>
                            </p>
                            <ul>
                                <li>
                                    <div class="bor">
                                        <ul>
                                            <template v-for="item in resultCourseList">
                                                <li>
                                                    <label>
                                                        <input type="checkbox" v-model="item.status">
                                                        <span>{{item.shopName}}</span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <ul>
                                                        <li>
                                                            <label>
                                                                <input type="checkbox" v-model="item.groupList.status">
                                                                <span>{{item.groupList.name}}</span>
                                                            </label>
                                                            <hr/>
                                                        </li>

                                                        <li>
                                                            <ul>
                                                                <template v-for="json in item.groupList.courseList">
                                                                    <li>
                                                                        <label>
                                                                            <input type="checkbox" v-model="json.status">
                                                                            <span>{{json.courseName}}</span>
                                                                        </label>
                                                                        <hr/>
                                                                        <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                                    </li>
                                                                </template>
                                                            </ul>

                                                        </li>

                                                        <li>
                                                            <label>
                                                                <input type="checkbox" v-model="item.privateList.status">
                                                                <span>{{item.privateList.name}}</span>
                                                            </label>
                                                            <hr/>
                                                        </li>

                                                        <li>
                                                            <ul>
                                                                <template v-for="json in item.privateList.courseList">
                                                                    <li>
                                                                        <label>
                                                                            <input type="checkbox" v-model="json.status">
                                                                            <span>{{json.courseName}}</span>
                                                                        </label>
                                                                        <hr/>
                                                                        <span>
                                                                        <span>售价：</span>
                                                                        <input type="text" value="" placeholder="0.00" v-model="json.price"
                                                                               oninput="value=value.replace(/[^\d^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.')">
                                                                        <span>元</span>
                                                                    </span>
                                                                    </li>
                                                                </template>
                                                            </ul>

                                                        </li>

                                                    </ul>
                                                </li>
                                            </template>

                                            <!-- // -->

                                            <li>
                                                <label>
                                                    <input type="checkbox" v-model="selectCourseStatus">
                                                    <span>全选</span>
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>

                            <p><label class="fl"><input type="checkbox" v-model="isCoursePay"> <span>课程结算</span> <span
                                    class="red">结算费用 扣除客户所购买的课程数</span>
                            </label></p>
                        </div>
                    </div>
                    <div class="bookTab">
                        <div class="tabFoot clearfix">
                            <a class="btn btnBlue" @click="save">确认</a><a class="btn btnRed"
                                                                          @click="updateClassStatus = false">取消</a>
                        </div>
                    </div>
                </div>
                <div class="newCustomers_maskLayer_box_botton">
            </div>
        </div>
        <!-- 排课弹窗 -->
    </div>

</template>


<!-- 团操管理 -->
<template id="edu-course-manage-id">
    <div id="GroupManagement">
        <div class="selectBar">
            <!--<select name="">-->
            <!--<option value="">软件园店</option>-->
            <!--</select>-->
            <select name="" v-model="selectShopId">
                <option value="" selected>全部门店</option>
                <option v-for='(item,index) in shopList' :value="item.id">
                    {{item.shopName}}
                </option>
            </select>
            <input type="text" class="jeinput " placeholder="开始时间" id="manage-begin-date" v-model="beginDate"/>
            ~ <input type="text" class="jeinput " placeholder="结束时间" id="manage-end-date" v-model="endDate"/>
        </div>
        <div class="boxWrap">
            <ul>
                <li>
                    <a href="../financial/behavior.html">
                        <p class="title">个人行为绩效分析表</p>
                        <div class="box">
                            <p class="currentTime">当前时间段：{{beginDate| toDateyyyyMMdd}}~{{beginDate| toDateyyyyMMdd}}</p>
                            <p class="txt">上课总人数：{{resultObject.totalMemberNum| toCalcNum}}</p>
                            <p class="txt">课程数：{{resultObject.totalNum| toCalcNum}}</p>
                            <p class="txt">上课教练数：{{resultObject.totalCoachNum| toCalcNum}}</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="../financial/course.html">
                        <p class="title">团操课程信息统计分析表</p>
                        <div class="box">
                            <p class="currentTime">当前时间段：{{beginDate| toDateyyyyMMdd}}~{{beginDate| toDateyyyyMMdd}}</p>
                            <p class="txt">上课总人数：{{resultObject.totalMemberNum| toCalcNum}}</p>
                            <p class="txt">最低人数：{{resultObject.minReserveNum| toCalcNum}}</p>
                            <p class="txt">最高人数：{{resultObject.maxReserveNum| toCalcNum}}</p>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="../financial/compare.html">
                        <p class="title">课程比较分析表</p>
                        <div class="box">
                            <p class="currentTime">当前时间段：{{beginDate| toDateyyyyMMdd}}~{{beginDate| toDateyyyyMMdd}}</p>
                            <p class="txt">总课程数：{{resultObject.totalNum| toCalcNum}}</p>
                            <p class="txt">上课教练数：{{resultObject.totalCoachNum| toCalcNum}}</p>
                            <p class="txt">总课时数：{{resultObject.totalClassNum| toCalcNum}}</p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</template>

<script src="../js/jquery-3.3.1.min.js"></script>
<script src="../js/jquery.cookie.js"></script>
<script src="../js/extendjQuery.js"></script>
<script src="../js/dateUtil.js"></script>
<script src="../js/combobox.js"></script>
<script src="../js/jedate.js"></script>
<script src="../js/vue.js"></script>
<script src="../js/simple-calendar.js"></script>
<script src="../js/jquery-confirm.js"></script>
<script src="../js/jquery.fieldTime.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/common.js"></script>
<script src="../js/axios.min.js"></script>
<script src="../fitness/js/resources/api/axios-base.js"></script>
<script src="../fitness/js/resources/constant/education-url.js"></script>
<script src="../fitness/js/resources/constant/education-constant.js"></script>
<script src="../js/resources/constant/course-url.js"></script>
<!--新增js代码-->
<script src="../fitness/js/public/reserve-list.js"></script>
<script src="../fitness/js/public/book-detail.js"></script>
<script src="../fitness/js/public/reservation.js"></script>
<script src="../fitness/js/public/start-class.js"></script>
<script src="../fitness/js/pay/bill.js"></script>
<script src="js/public/coach-room-list.js"></script>
<script src="js/public/coach-infomation-list.js"></script>
<script src="../fitness/js/public/arrangement-education.js"></script>
<script src="../fitness/js/public/consume-detail.js"></script>
<script src="js/public/settlement-list.js"></script>
<script src="../fitness/js/public/freeze-detail.js"></script>
<script src="../fitness/js/public/training-detail.js"></script>
<script src="js/public/arrangement/index.js"></script>
<script src="js/public/arrangement/batch.js"></script>
<script src="js/public/arrangement/copy.js"></script>
<script src="js/public/arrangement/setting.js"></script>
<script src="js/public/manage/index.js"></script>
<script type="text/javascript">

    var FileTimes = new FileTime({
        config: {
            clickObj: "#quanbu", //绑定点击对象  传递的格式为：#id或.class
            isLimitTime: true, //是否需要限制搜索的时间段不能超过一年
        }
    });
    var Event = new Vue();// 事件
    //修复高度
    function mainheight() {
        var mainheight = $(window).height() - 52;
        $('.cWrap').height(mainheight);
        $('.contains').height(mainheight);
        $('#coachClassroom').height(mainheight);
        $(window).resize(function () {
            mainheight = $(window).height() - 52;
            $('.cWrap').height(mainheight);
            $('.contains').height(mainheight);
            $('#coachClassroom').height(mainheight);
        })
    }

    mainheight();

    var appointment = new Vue({
        el: '#appointment',
        data: {
            LiIndex: 0,
            tabSpanspan: 0,
            WeekMonth: 0,
        },
        methods: {

            //会员卡子页面切换
            LI: function (t, s) {
                this.LiIndex = t;
                setTimeout(function () {
                    $('.lefNav li').eq(t).addClass('on').siblings().removeClass('on');
                    //预约工作台判断
                    if (t == 0) {
                        //
                        // $('.toBlock').hover(function () {
                        //     // 滑动滚动条
                        //     $('.tabBox').css({
                        //         'display': 'block',
                        //         'top': $('.contains').scrollTop() + $(this).offset().top - 25
                        //     });
                        // });
                        // $('.tabBox').mouseenter(function () {
                        //     $('.tabBox').css({
                        //         'display': 'block'
                        //     });
                        // })
                        // $('.tabBox').mouseleave(function () {
                        //     $('.tabBox').css({
                        //         'display': 'none'
                        //     });
                        // })
                        $('#appointmentWorkbench').show().siblings().hide();
                    }
                    //开始上课判断
                    if (t == 0 && s == 2) {
                        $('#startClass').show().siblings().hide();
                    }
                    //课程预约/预约详情
                    if (t == 0 && s == 1) {
                        $('#bookDetail').show().siblings().hide();
                    }
                    //教练/教室判断
                    if (t == 1) {
                        $('#coachClassroom').show().siblings().hide();
                    }
                    //消费明细表判断
                    if (t == 3) {
                        $('#consumptionSchedule').show().siblings().hide();
                    }
                    // 团操课程表
                    if (t == 5) {
                       // appointment.WeekMonthClassScheduling(0);
                        // 团操课程表
                        $('#groupCourseSchedule').show().siblings().hide();
                    }

                    // 批量排团课
                    if (t == 5 && s == 1) {
                        $('#batchSchedulingClass').show().siblings().hide();
                    }
                    // 复制排课
                    if (t == 5 && s == 2) {
                        $('#copyClass').show().siblings().hide();
                    }
                    $('.list').addClass('on').siblings().removeClass('on');
                    startDate();
                    mainheight();
                }, 50)
            },
            //课程消费明细表/个人消费明细表切换函数
            tabSpanSpans: function (t) {
                this.tabSpanspan = t;
                $('.tabSpan span').eq(t).addClass('on').siblings().removeClass('on');
                $('.select').eq(t).addClass('on').siblings().removeClass('on');
            },
            //周,月排课
            // WeekMonthClassScheduling: function (t) {
            //     this.WeekMonth = t;
            //     $('.pull-right span').eq(t).addClass('on').siblings().removeClass('on');
            //     if (t == 1) {
            //         setTimeout(function () {
            //             var myCalendar1 = new SimpleCalendar('#container .container');
            //             $('.sc-pull-right').eq(0).css('display', 'inline-table');
            //         }, 50)
            //     }
            // },
            // 复制排课
            weekDataday: function (event) {
                var el = event.currentTarget;
                if (!el) {
                    el = event;
                }
                ;
                if (!$(el).html()) {
                    $('#classroom').show();
                } else {
                    console.log('本身为空!');
                }
                ;
            },

            //新增
            Adds: function (t) {
                html = '<div class="sc-days-box">' +
                    '<div class="sc-item on">' +
                    '<input type="text" class="jeinput startTime" placeholder="开始时间" /> ~ <input type="text" class="jeinput endTime" placeholder="结束时间" />' +
                    '</div>';
                for (var i = 0; i < 7; i++) {
                    html += '<div class="sc-item">' +
                        '<div class="tool on">' +
                        '<span class="toolblur" onclick="toolblur(this)">复制</span>' +
                        '<span class="toolred" onclick="toolred(this)">删除</span>' +
                        '<span class="toolorange on" onclick="toolorange(this)">粘贴</span>' +
                        '</div>' +
                        '<div class="dataday" onclick="appointment.weekDataday(this)">' +
                        '</div>' +
                        '</div>';
                }
                html += '</div>';
                $('.sc-days').append(html);
                startDate();

            },
            //鼠标移入
            tool: function (event) {
                var el = event.currentTarget;
                $(el).siblings().find('.tool').removeClass('on');
                $(el).find('.tool').addClass('on');
            },
            //鼠标移出
            toolHide: function (event) {
                var el = event.currentTarget;
                $(el).find('.tool').removeClass('on');
            },
            // 复制排课的保存
            save: function () {
                alert('保存成功!');
            }
        }
    });
    //初始化
    appointment.LI(appointment.LiIndex);

    //获取url的参数
    function getParam(paramName) {
        paramValue = "", isFound = !1;
        if (this.location.search.indexOf("?") == 0 && this.location.search.indexOf("=") > 1) {
            arrSource = unescape(this.location.search).substring(1, this.location.search.length).split("&"), i = 0;
            while (i < arrSource.length && !isFound) arrSource[i].indexOf("=") > 0 && arrSource[i].split("=")[0].toLowerCase() ==
            paramName.toLowerCase() && (paramValue = arrSource[i].split("=")[1], isFound = !0), i++
        }
        return paramValue == "" && (paramValue = null), paramValue
    }

    // 报表页面返回
    if (getParam('LiIndex')) {
        appointment.LI(getParam('LiIndex'))
    }

    // 确认
    function cancel() {
        $('.tabBox').hide();
    };

    //预约详情
    function checkDetails() {
        $('#bookDetail').css("display", "block").siblings().hide();
    };

    //开课
    function startClass() {
        $('#startClass').css("display", "block").siblings().hide();
    }

    //添加预约弹窗
    function reservation() {
        $('#reservation').show();
    }

    //训练详情
    function trainingDetails() {
        $('#trainingDetails').show();
    }

    //  教练信息
    function coachInformation(t) {
        $('#coachInformation').show();
        if (t == 0) {
            $('#coachInformation .btn-primary').hide();
        } else {
            $('#coachInformation .btn-primary').show();
        }
    }

    var dataday = '';

    //复制
    function toolblur(t) {
        dataday = $(t).parent().parent().find('.dataday').html();
        alert('复制成功!');
    }

    // 删除
    function toolred(t) {
        $(t).parent().parent().find('.dataday').html('');
        $(t).parent().find('.toolorange').addClass('on');
        $(t).parent().find('.toolblur').removeClass('on');
        $(t).parent().find('.toolred').removeClass('on');
    }

    // 粘贴
    function toolorange(t) {
        if (dataday) {
            $('.sc-header .btn-danger').css('display', 'inline-block');
            $(t).parent().find('.toolorange').removeClass('on');
            $(t).parent().find('.toolblur').addClass('on');
            $(t).parent().find('.toolred').addClass('on');
            $(t).parent().parent().find('.dataday').html(dataday);
        } else {
            alert('粘贴失败,请复制!');
        }
    }

    //教室
    function classroom() {
        $('#classroom').show();
    }

    //修改课程
    function CourseModification(t) {
        $('#classroom').show();
        $('#classroom .newCustomers_maskLayer_X').hide();
        $('#classroom .newCustomers_maskLayer_X2').show();
    }

    // 课程设置
    function hui() {
        $('#Curriculum').show()
        $('#Curriculum .newCustomers_maskLayer_box_botton .btn-success').show();
    }

    // 课程设置删除
    function huired() {
        alert('已约满!');
    }

    // 课程设置上课
    function huigreen() {
        $('#Curriculum').show()
        $('#Curriculum .newCustomers_maskLayer_box_botton .btn-success').hide();
    }

    // 关闭弹窗
    function newCustomers_maskLayer_X() {
        $('.newCustomers_maskLayer').hide();

    }

    // 关闭2弹窗
    function newCustomers_maskLayer_X2() {
        $('#classroom').hide();
    }
</script>

</body>

</html>